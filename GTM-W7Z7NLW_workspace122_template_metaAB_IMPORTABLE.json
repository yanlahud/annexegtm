{
  "exportFormatVersion": 2,
  "exportTime": "2026-02-18 23:18:30",
  "containerVersion": {
    "path": "accounts/4701878300/containers/11816202/versions/0",
    "accountId": "4701878300",
    "containerId": "11816202",
    "containerVersionId": "0",
    "container": {
      "path": "accounts/4701878300/containers/11816202",
      "accountId": "4701878300",
      "containerId": "11816202",
      "name": "Annexe Web",
      "publicId": "GTM-W7Z7NLW",
      "usageContext": [
        "WEB"
      ],
      "fingerprint": "1768921808890",
      "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/4701878300/containers/11816202/workspaces?apiLink=container",
      "features": {
        "supportUserPermissions": true,
        "supportEnvironments": true,
        "supportWorkspaces": true,
        "supportGtagConfigs": false,
        "supportBuiltInVariables": true,
        "supportClients": false,
        "supportFolders": true,
        "supportTags": true,
        "supportTemplates": true,
        "supportTriggers": true,
        "supportVariables": true,
        "supportVersions": true,
        "supportZones": true,
        "supportTransformations": false
      },
      "tagIds": [
        "GTM-W7Z7NLW"
      ]
    },
    "tag": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "409",
        "name": "GADS - Configuration Tag",
        "type": "googtag",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "tagId",
            "value": "AW-381681175"
          }
        ],
        "fingerprint": "1771449447580",
        "firingTriggerId": [
          "2147479573"
        ],
        "parentFolderId": "472",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "459",
        "name": "GA4 - Page View",
        "type": "googtag",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "tagId",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771449447590",
        "firingTriggerId": [
          "2147479573"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "466",
        "name": "GA4 - Contact Sales - Fale com Vendedora",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "false"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "method"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "whatsapp"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "button_location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "product_page_top"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "button_text"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "Fale com uma vendedora"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "page_location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{Page Path}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "link_url"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{Click URL}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "contact_sales"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347944",
        "firingTriggerId": [
          "465"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "467",
        "name": "GA4 - Contact Sales - Bot√£o Flutuante",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "false"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "method"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "whatsapp"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "button_location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "floating_button"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "button_text"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "Clique aqui e fale com Annexe"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "page_location"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{Page Path}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "link_url"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{Click URL}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "contact_sales"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347943",
        "firingTriggerId": [
          "464"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "470",
        "name": "GADS - Conversion - begin_checkout",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableNewCustomerReporting",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "enableProductReporting",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "BOOLEAN",
            "key": "enableShippingData",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "381681175"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "_3puCOnAxokCEJf8_7UB"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347912",
        "firingTriggerId": [
          "399"
        ],
        "parentFolderId": "469",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "473",
        "name": "GADS - Conversion Linker - All Pages",
        "type": "gclidw",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableCrossDomain",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableUrlPassthrough",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableCookieOverrides",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347913",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "472",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "475",
        "name": "UTIL - Microsoft Clarity - All Pages",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<script type=\"text/javascript\">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i+\"?ref=gtm2\";y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window,document,\"clarity\",\"script\",\"p8vok17yu6\");</script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347913",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "474",
        "tagFiringOption": "ONCE_PER_EVENT",
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "479",
        "name": "GADS - Conversion - purchase",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableNewCustomerReporting",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "orderId",
            "value": "{{transactionId}}"
          },
          {
            "type": "BOOLEAN",
            "key": "enableProductReporting",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionValue",
            "value": "{{transactionPrice}}"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "BOOLEAN",
            "key": "enableShippingData",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "381681175"
          },
          {
            "type": "TEMPLATE",
            "key": "currencyCode",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "VM3LCPHtku8ZEJf8_7UB"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347913",
        "firingTriggerId": [
          "419"
        ],
        "parentFolderId": "469",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "481",
        "name": "CONSENT - Google Consent Mode v2 - Init",
        "type": "html",
        "priority": {
          "type": "INTEGER",
          "value": "999"
        },
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<script>\n// Default consent state (before user choice)\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\n\ngtag('consent', 'default', {\n  'ad_storage': 'denied',\n  'ad_user_data': 'denied',\n  'ad_personalization': 'denied',\n  'analytics_storage': 'denied',\n  'personalization_storage': 'denied',\n  'functionality_storage': 'granted',\n  'security_storage': 'granted',\n  'wait_for_update': 500\n});\n\n// Listen to AdOpt consent changes\nwindow.addEventListener('adoptCookieSelection', function(e) {\n  var consent = e.detail;\n\n  gtag('consent', 'update', {\n    'ad_storage': consent.marketing ? 'granted' : 'denied',\n    'ad_user_data': consent.marketing ? 'granted' : 'denied',\n    'ad_personalization': consent.marketing ? 'granted' : 'denied',\n    'analytics_storage': consent.analytics ? 'granted' : 'denied',\n    'personalization_storage': consent.functional ? 'granted' : 'denied'\n  });\n});\n</script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347913",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "480",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "484",
        "name": "META - Page View (Pixel A+B)",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<!-- Meta Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '{{VAR - META - Pixel ID - A}}');\nfbq('init', '{{VAR - META - Pixel ID - B}}');\nfbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\"\nsrc=\"https://www.facebook.com/tr?id={{VAR - META - Pixel ID - A}}&ev=PageView&noscript=1\"\n/></noscript>\n<!-- End Meta Pixel Code -->"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "2147479573"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "485",
        "name": "GA4 - add_to_cart",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_category"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_category}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_variant"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_variant}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "value"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.price}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "quantity"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.quantity}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "add_to_cart"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "435"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "486",
        "name": "GA4 - add_payment_info",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "items"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{items}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "add_payment_info"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "415"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "491",
        "name": "GA4 - view_item_list",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "items"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{items}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "view_item_list"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "404"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "492",
        "name": "GA4 - purchase",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{contents.item_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_list_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{contents.item_list_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "value"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.value}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "quantity"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{contents.quantity}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "transaction_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{transactionId}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "purchase"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "419"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "493",
        "name": "UTIL - ClearSale Anti-Fraud - Checkout",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<noscript>\n    <img src='https://device.clearsale.com.br/p/fp.png?sid={{Clearsale - SessionID}}&app={{Clearsale - App}}&ns=1' />\n</noscript>\n\n<script>\n  fetch(window.location.origin +'/checkout/api/cart/'+__NEXT_DATA__.props.pageProps.cart.token + '/card-message', {\n    method: 'POST',\n    body: JSON.stringify({ session: {{Clearsale - SessionID}} }),\n    header: {\n      Accept: \"application/json,\",\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(function (response) {\n    // The API call was successful!\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response);\n    }\n  }).then(function (data) {\n    // This is the JSON from our response\n    console.log(data);\n  }).catch(function (err) {\n    // There was an error\n    console.warn('Something went wrong.', err);\n  });\n\n</script>\n\n<script>\n    function checkUrl(url){\n        var request = new XMLHttpRequest();\n        request.open( \"GET\", url, true );\n        request.send(null);\n        request.onerror = function(event) {\n            request.open(\"GET\", \"https://web.fpcs-monitor.com.br/p/fp.png?sid={{Clearsale - SessionID}}&app={{Clearsale - App}}&bl=1\", false);\n            request.send(null);\n        }\n    }\n    checkUrl(\"https://device.clearsale.com.br/p/fp.png\");\n</script>\n\n<script>\n    (function (a, b, c, d, e, f, g) {\n    a['CsdpObject'] = e; a[e] = a[e] || function () {\n    (a[e].q = a[e].q || []).push(arguments)\n    }, a[e].l = 1 * Date.now(); f = b.createElement(c),\n    g = b.getElementsByTagName(c)[0]; f.async = 1; f.src = d; g.parentNode.insertBefore(f, g)\n    })(window, document, 'script', '//device.clearsale.com.br/p/fp.js', 'csdp');\n    csdp('app', {{Clearsale - App}});\n    csdp('sessionid', {{Clearsale - SessionID}});\n</script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347914",
        "firingTriggerId": [
          "300"
        ],
        "parentFolderId": "474",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "499",
        "name": "GA4 - Configuration - Page View",
        "type": "googtag",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "tagId",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "2147479573"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "501",
        "name": "GADS - Configuration (AW) - Init",
        "type": "googtag",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "tagId",
            "value": "AW-381681175"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "2147479573"
        ],
        "parentFolderId": "472",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "503",
        "name": "GA4 - begin_checkout",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "affiliation"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.affiliation}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "coupon"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.coupon}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "discount"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.discount}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "index"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.index}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_brand"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_brand}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_category"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_category}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_list_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_list_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_list_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_list_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_variant"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_variant}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "value"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.price}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "quantity"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.quantity}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "begin_checkout"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "399"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "504",
        "name": "GADS - Conversion - add_to_cart",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableNewCustomerReporting",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "enableProductReporting",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "BOOLEAN",
            "key": "enableShippingData",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "381681175"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "G8GnCLHO7IkCEJf8_7UB"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "435"
        ],
        "parentFolderId": "469",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "505",
        "name": "GADS - Remarketing - All Pages",
        "type": "sp",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "enableDynamicRemarketing",
            "value": "false"
          },
          {
            "type": "LIST",
            "key": "customParams",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "ecomm_pagetype"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{pageCategory}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "ecomm_prodid"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{productId}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "ecomm_totalvalue"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{productPrice}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "ecomm_category"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "{{productCategory}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "key",
                    "value": "isSaleItem"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "value",
                    "value": "false"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "381681175"
          },
          {
            "type": "TEMPLATE",
            "key": "customParamsFormat",
            "value": "USER_SPECIFIED"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1771449447590",
        "firingTriggerId": [
          "100"
        ],
        "parentFolderId": "469",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "506",
        "name": "GA4 - view_cart",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "affiliation"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.affiliation}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "coupon"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.coupon}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "discount"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.discount}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "index"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.index}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_brand"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_brand}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_category"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_category}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_list_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_list_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_list_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_list_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_variant"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_variant}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "value"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.price}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "quantity"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.quantity}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "view_cart"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "398"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "508",
        "name": "GA4 - view_item",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_category"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{item_category}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_id"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_id}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_name"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_name}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "item_variant"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.item_variant}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "value"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{ecommerce.items.price}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "view_item"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347915",
        "firingTriggerId": [
          "424"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "512",
        "name": "CONSENT - CMP (AdOpt) - All Pages",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<meta name=\"adopt-website-id\" content=\"3a4096f9-b720-4341-bcf0-749b943c8b76\" />\n<script src=\"//tag.goadopt.io/injector.js?website_code=3a4096f9-b720-4341-bcf0-749b943c8b76\" class=\"adopt-injector\"></script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771449447591",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "480",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "513",
        "name": "GADS - Conversion - whatsapp_click",
        "type": "awct",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "enableNewCustomerReporting",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "enableConversionLinker",
            "value": "true"
          },
          {
            "type": "BOOLEAN",
            "key": "enableProductReporting",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionCookiePrefix",
            "value": "_gcl"
          },
          {
            "type": "BOOLEAN",
            "key": "enableShippingData",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionId",
            "value": "381681175"
          },
          {
            "type": "TEMPLATE",
            "key": "conversionLabel",
            "value": "AfAqCNjI7IkCEJf8_7UB"
          },
          {
            "type": "BOOLEAN",
            "key": "rdp",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347916",
        "firingTriggerId": [
          "167"
        ],
        "parentFolderId": "469",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "514",
        "name": "UTIL - Lahar Marketing - All Pages",
        "type": "html",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "html",
            "value": "<script type=\"text/javascript\" charset=\"UTF-8\" async src=\"https://scripts.lahar.com.br/track-easycomu24lQJ3WCEHsvohimyIlVOHXsObB4OOtjR6fp.js\"></script>"
          },
          {
            "type": "BOOLEAN",
            "key": "supportDocumentWrite",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347916",
        "firingTriggerId": [
          "2147479553"
        ],
        "parentFolderId": "474",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "515",
        "name": "GA4 - add_shipping_info",
        "type": "gaawe",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "sendEcommerceData",
            "value": "true"
          },
          {
            "type": "TEMPLATE",
            "key": "getEcommerceDataFrom",
            "value": "dataLayer"
          },
          {
            "type": "LIST",
            "key": "eventSettingsTable",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "parameter",
                    "value": "items"
                  },
                  {
                    "type": "TEMPLATE",
                    "key": "parameterValue",
                    "value": "{{items}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "eventName",
            "value": "add_shipping_info"
          },
          {
            "type": "TEMPLATE",
            "key": "measurementIdOverride",
            "value": "{{VAR - GA4 - Measurement ID}}"
          }
        ],
        "fingerprint": "1771446347916",
        "firingTriggerId": [
          "396"
        ],
        "parentFolderId": "471",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "600",
        "name": "META - Purchase (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "Purchase"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "order_id",
            "value": "{{ecommerce.transaction_id}}"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "419"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_LOAD",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "601",
        "name": "META - ViewContent - View Item (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "ViewContent"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "424"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "602",
        "name": "META - AddPaymentInfo (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "AddPaymentInfo"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "415"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "603",
        "name": "META - ViewContent - View Item List (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "ViewContent"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product_group"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "404"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "604",
        "name": "META - AddShippingInfo (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "customEvent"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "customEventName",
            "value": "AddShippingInfo"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "396"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "605",
        "name": "META - InitiateCheckout (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "InitiateCheckout"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "num_items",
            "value": "{{ecommerce.items.quantity}}"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "399"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "606",
        "name": "META - ViewCart (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "customEvent"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "customEventName",
            "value": "ViewCart"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "398"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "tagId": "607",
        "name": "META - AddToCart (Pixel A+B)",
        "type": "cvt_NN64H",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "event_name",
            "value": "AddToCart"
          },
          {
            "type": "TEMPLATE",
            "key": "fireMethod",
            "value": "onlyPixel"
          },
          {
            "type": "LIST",
            "key": "pixels",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - A}}"
                  }
                ]
              },
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "pixelId",
                    "value": "{{VAR - META - Pixel ID - B}}"
                  }
                ]
              }
            ]
          },
          {
            "type": "LIST",
            "key": "useEcommerceData",
            "list": [
              {
                "type": "MAP",
                "map": [
                  {
                    "type": "TEMPLATE",
                    "key": "provider",
                    "value": "fb"
                  },
                  {
                    "type": "BOOLEAN",
                    "key": "enabled",
                    "value": "true"
                  }
                ]
              }
            ]
          },
          {
            "type": "TEMPLATE",
            "key": "content_type",
            "value": "product"
          },
          {
            "type": "TEMPLATE",
            "key": "currency",
            "value": "BRL"
          },
          {
            "type": "TEMPLATE",
            "key": "event_id",
            "value": "autogenerate"
          },
          {
            "type": "BOOLEAN",
            "key": "disableAutomaticConfiguration",
            "value": "false"
          },
          {
            "type": "BOOLEAN",
            "key": "disablePushState",
            "value": "false"
          }
        ],
        "fingerprint": "1771446347999",
        "firingTriggerId": [
          "435"
        ],
        "parentFolderId": "477",
        "tagFiringOption": "ONCE_PER_EVENT",
        "monitoringMetadata": {
          "type": "MAP"
        },
        "consentSettings": {
          "consentStatus": "NOT_SET"
        }
      }
    ],
    "trigger": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "100",
        "name": "ViewItem",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "tray.updateGTM"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{pageCategory}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "Produto"
              }
            ]
          }
        ],
        "fingerprint": "1646148194246"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "167",
        "name": "Bot√£o Whatsapp",
        "type": "LINK_CLICK",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Click URL}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "whatsapp"
              }
            ]
          }
        ],
        "waitForTags": {
          "type": "BOOLEAN",
          "value": "false"
        },
        "checkValidation": {
          "type": "BOOLEAN",
          "value": "false"
        },
        "waitForTagsTimeout": {
          "type": "TEMPLATE",
          "value": "2000"
        },
        "uniqueTriggerId": {
          "type": "TEMPLATE"
        },
        "fingerprint": "1646164016243"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "300",
        "name": "Checkout",
        "type": "WINDOW_LOADED",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Page URL}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "checkout"
              }
            ]
          }
        ],
        "fingerprint": "1720709451921"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "396",
        "name": "TRIG - Add Shipping Info",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "add_shipping_info"
              }
            ]
          }
        ],
        "fingerprint": "1770843006363"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "398",
        "name": "TRIG - View Cart",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "view_cart"
              }
            ]
          }
        ],
        "fingerprint": "1770843006365"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "399",
        "name": "TRIG - Begin Checkout",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "begin_checkout"
              }
            ]
          }
        ],
        "fingerprint": "1770843006365"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "404",
        "name": "TRIG - View Item List",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "view_item_list"
              }
            ]
          }
        ],
        "fingerprint": "1770843006367"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "415",
        "name": "TRIG - Add Payment Info",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "add_payment_info"
              }
            ]
          }
        ],
        "fingerprint": "1770843006369"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "419",
        "name": "TRIG - Purchase",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "purchase"
              }
            ]
          }
        ],
        "filter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "purchase"
              }
            ]
          }
        ],
        "fingerprint": "1770843006369"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "424",
        "name": "TRIG - View Item",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "view_item"
              }
            ]
          }
        ],
        "fingerprint": "1770843006370"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "435",
        "name": "TRIG - Add to Cart",
        "type": "CUSTOM_EVENT",
        "customEventFilter": [
          {
            "type": "EQUALS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{_event}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "add_to_cart"
              }
            ]
          }
        ],
        "fingerprint": "1770843006465"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "464",
        "name": "TRIG - Click WhatsApp Flutuante",
        "type": "CLICK",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Click Text}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "Clique aqui e fale com Annexe"
              }
            ]
          }
        ],
        "fingerprint": "1770846500192"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "triggerId": "465",
        "name": "TRIG - Click Fale com Vendedora",
        "type": "CLICK",
        "filter": [
          {
            "type": "CONTAINS",
            "parameter": [
              {
                "type": "TEMPLATE",
                "key": "arg0",
                "value": "{{Click Text}}"
              },
              {
                "type": "TEMPLATE",
                "key": "arg1",
                "value": "Fale com uma vendedora"
              }
            ]
          }
        ],
        "fingerprint": "1770846500193"
      }
    ],
    "variable": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "40",
        "name": "pageCategory",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "pageCategory"
          }
        ],
        "fingerprint": "1604603137699",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "76",
        "name": "productName",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "nameProduct"
          }
        ],
        "fingerprint": "1646145516111",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "77",
        "name": "transactionId",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.purchase.actionField.id"
          }
        ],
        "fingerprint": "1646145516112",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "79",
        "name": "transactionProducts",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.purchase.products"
          }
        ],
        "fingerprint": "1646145516114",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "91",
        "name": "productPrice",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "priceSell"
          }
        ],
        "fingerprint": "1646145516118",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "92",
        "name": "productBrand",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "brand"
          }
        ],
        "fingerprint": "1646145516118",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "95",
        "name": "productCategory",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "category"
          }
        ],
        "fingerprint": "1646145516120",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "97",
        "name": "productId",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "idProduct"
          }
        ],
        "fingerprint": "1646145516121",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "99",
        "name": "transactionValue",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.purchase.actionField.revenue"
          }
        ],
        "fingerprint": "1646145516121",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "101",
        "name": "- GAds ID",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "381681175"
          }
        ],
        "fingerprint": "1646430234089",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "105",
        "name": "- FB ID",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "450110712092360"
          }
        ],
        "fingerprint": "1646146706829",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "110",
        "name": "Ga EventLabel",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "eventLabel"
          }
        ],
        "fingerprint": "1646145516167",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "113",
        "name": "transactionItems",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{transactionProducts}};\nvar total = products.length;\nvar items = [];\n    \nfor(var i = 0; i < total; i++){\n  items.push({                     \n  item_name: products[i].name,\n  item_id: products[i].sku,\n  price: products[i].price,                      \n  item_category: products[i].category,\n  quantity: products[i].quantity,  \n});\n}\nreturn items; \n}\n"
          }
        ],
        "fingerprint": "1646145516245",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "114",
        "name": "transactionTax",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.tax"
          }
        ],
        "fingerprint": "1646145516168",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "115",
        "name": "transactionShipping",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.purchase.actionField.shipping"
          }
        ],
        "fingerprint": "1646145516169",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "121",
        "name": "productQuantity",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.querySelector(\"#quant\").value\n}"
          }
        ],
        "fingerprint": "1646145516245",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "123",
        "name": "checkoutStep",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.checkout.actionField.step"
          }
        ],
        "fingerprint": "1646145516171",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "128",
        "name": "customerName",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "customerName"
          }
        ],
        "fingerprint": "1662127646917",
        "formatValue": {
          "convertUndefinedToValue": {
            "type": "TEMPLATE",
            "value": "null"
          }
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "130",
        "name": "Items",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items"
          }
        ],
        "fingerprint": "1646145516173",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "135",
        "name": "checkoutValue",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){ \n  return document.querySelector(\"#checkout-collapse > div > div.col-md-4.hidden-xs.hidden-sm > div > div > table:nth-child(9) > tbody > tr > td.col-xs-4.ch-text-right.ch-no-padding-right > span\").innerText.replace(\"R$ \",\"\").replace(\",\",\".\")\n}"
          }
        ],
        "fingerprint": "1659103652914",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "138",
        "name": "User Data",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "atrributes.userData"
          }
        ],
        "fingerprint": "1646145516176",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "139",
        "name": "transactionPrice",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.purchase.actionField.revenue"
          }
        ],
        "fingerprint": "1646145516177",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "140",
        "name": "- GAds Label",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "92FWCI7L8qYDEJf8_7UB"
          }
        ],
        "fingerprint": "1646430242553",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "151",
        "name": "checkoutProducts",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.checkout.products"
          }
        ],
        "fingerprint": "1646145516180",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "152",
        "name": "checkoutItems",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{checkoutProducts}};\nvar total = products.length;\nvar items = [];\n    \nfor(var i = 0; i < total; i++){\n  items.push({                     \n  item_name: products[i].name,\n  item_id: products[i].sku,\n  price: products[i].price,                      \n  item_category: products[i].category,\n  quantity: products[i].quantity,  \n});\n}\nreturn items; \n}\n"
          }
        ],
        "fingerprint": "1646145516247",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "157",
        "name": "Ga EventCategory",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "eventCategory"
          }
        ],
        "fingerprint": "1646145516182",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "159",
        "name": "Ga EventAction",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "eventAction"
          }
        ],
        "fingerprint": "1646145516183",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "162",
        "name": "subscriberEmail",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "subscriberEmail"
          }
        ],
        "fingerprint": "1646145516184",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "172",
        "name": "DateGoogle",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n var data = new Date();\n var outraData = new Date();\n outraData.setDate(data.getDate() + 14);\n var DD   = outraData.getDate().toString();\n var dia = (DD.length == 1) ? '0'+DD : DD;\n var MM   = (outraData.getMonth()+1).toString();\n var mes = (MM.length == 1) ? '0'+MM : MM;\n var ano  = outraData.getFullYear();\n var newdateGoogle = ano+'-'+mes+'-'+dia;\n\n return newdateGoogle;\n}"
          }
        ],
        "fingerprint": "1646145516249",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "178",
        "name": "transactionProductsId",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{transactionProducts}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].id\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1646145516249",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "180",
        "name": "- GTM Server URL",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "https://gtm-5tbc8z9-zjm0y.uc.r.appspot.com"
          }
        ],
        "fingerprint": "1646147390392",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "188",
        "name": "customerEmail",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "customerEmail"
          }
        ],
        "fingerprint": "1653413155254",
        "formatValue": {
          "convertUndefinedToValue": {
            "type": "TEMPLATE",
            "value": "\"\""
          }
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "199",
        "name": "productCart",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.checkout.products"
          }
        ],
        "fingerprint": "1646145516200",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "206",
        "name": "siteSearchTerm",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "siteSearchTerm"
          }
        ],
        "fingerprint": "1646162784210",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "215",
        "name": "transactionIdLast",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return localStorage.getItem(\"TransactionId\");\n}"
          }
        ],
        "fingerprint": "1646145516253",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "221",
        "name": "visitorId",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\n  var id = {{userId}};\n\n  id != undefined || null ? id = id : id = '';\n\n  return id\n}"
          }
        ],
        "fingerprint": "1646750579453",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "222",
        "name": "productVariant",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\n  \n  var variant = document.querySelector(\"#selectedVariant\").value;\n  \n  var variantSelected = variant == '' ? false : true;\n  \n  return variantSelected\n}"
          }
        ],
        "fingerprint": "1646162701214",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "229",
        "name": "currency",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "BRL"
          }
        ],
        "fingerprint": "1646164566744",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "244",
        "name": "listCategory",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "breadcrumb"
          }
        ],
        "fingerprint": "1646315780966",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "245",
        "name": "listName",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "category"
          }
        ],
        "fingerprint": "1646315827671",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "246",
        "name": "listPrice",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "listProducts.0.sellPrice"
          }
        ],
        "fingerprint": "1646316266738",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "247",
        "name": "listProducts",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "listProducts"
          }
        ],
        "fingerprint": "1646316303968",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "248",
        "name": "listProductsId",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{listProducts}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].idProduct\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1646316356538",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "250",
        "name": "userId",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorId"
          }
        ],
        "fingerprint": "1646750313263",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "253",
        "name": "- FB ID 2",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "1960498524168183"
          }
        ],
        "fingerprint": "1653337530886",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "256",
        "name": "NewsEmail",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"email\")[1].value\n}"
          }
        ],
        "fingerprint": "1662063996432",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "257",
        "name": "- RD - Token P√∫blico",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "aeb516fba66d97652df0a9a2e951a76a"
          }
        ],
        "fingerprint": "1658939351242",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "258",
        "name": "- RD - Token Privado",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "215abdecbaef9936043c048d721dc726"
          }
        ],
        "fingerprint": "1658939377326",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "265",
        "name": "RD - LeadTracking",
        "type": "k",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "decodeCookie",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "rdtrk"
          }
        ],
        "fingerprint": "1659096232203",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "266",
        "name": "RD - Traffic Source",
        "type": "k",
        "parameter": [
          {
            "type": "BOOLEAN",
            "key": "decodeCookie",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "__trf.src"
          }
        ],
        "fingerprint": "1659096254737",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "267",
        "name": "customerPhone",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.querySelector(\"#customer-logged > p:nth-child(4) > span:nth-child(4)\").innerText\n}\n"
          }
        ],
        "fingerprint": "1662128053627",
        "formatValue": {
          "convertUndefinedToValue": {
            "type": "TEMPLATE",
            "value": "\"\""
          }
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "268",
        "name": "checkoutProductsId",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{Items}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].item_id\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1659102943224",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "269",
        "name": "checkoutProductsCategory",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{Items}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].item_category\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1659102909743",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "270",
        "name": "checkoutProductsName",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{Items}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].item_name\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1659102956331",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "271",
        "name": "customerCEP",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.zipCode"
          }
        ],
        "fingerprint": "1659099725059",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "272",
        "name": "customerAddress",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.address"
          }
        ],
        "fingerprint": "1659099738338",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "273",
        "name": "customerCity",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.city"
          }
        ],
        "fingerprint": "1659099747356",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "274",
        "name": "customerState",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.state"
          }
        ],
        "fingerprint": "1659099775672",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "275",
        "name": "customerAge",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.age"
          }
        ],
        "fingerprint": "1659099786448",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "276",
        "name": "customerNeighborhood",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "visitorDemographicInfo.neighborhood"
          }
        ],
        "fingerprint": "1659099764075",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "277",
        "name": "transactionFormaPagamento",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.checkout.actionField.option"
          }
        ],
        "fingerprint": "1659100058375",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "278",
        "name": "transactionProductsName",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{transactionProducts}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].name\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1659100148634",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "279",
        "name": "transactionProductsCategory",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\nvar products = {{transactionProducts}};\nvar total = products.length;\nvar Ids = [];\n    \nfor(var i = 0; i < total; i++){\n  Ids[i] = products[i].category\n}\nreturn Ids; \n}\n"
          }
        ],
        "fingerprint": "1659100170076",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "280",
        "name": "signUpName",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"pf_nome_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659100789250",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "281",
        "name": "signUpDate",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"pf_data_nascimento\")[0].value\n}"
          }
        ],
        "fingerprint": "1659100825948",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "282",
        "name": "signUpCpf",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"pf_cpf_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659100864298",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "283",
        "name": "signUpCep",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  var cep1 = document.getElementsByName(\"cep_1\")[0].value\n  var cep2 = document.getElementsByName(\"cep_2\")[0].value\n  \n  return cep1 + \"-\" + cep2\n}"
          }
        ],
        "fingerprint": "1659101510913",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "284",
        "name": "signUpBairro",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"bairro_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659101558469",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "285",
        "name": "signUpCity",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"cidade_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659101596779",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "286",
        "name": "signUpPhone",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"telefone_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659101648815",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "287",
        "name": "signUpCelphone",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"telefone_cliente_2\")[0].value\n}"
          }
        ],
        "fingerprint": "1659101683163",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "290",
        "name": "signUpEmail",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function(){\n  return document.getElementsByName(\"email_cliente\")[0].value\n}"
          }
        ],
        "fingerprint": "1659102036615",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "296",
        "name": "customerCountry",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "Brasil"
          }
        ],
        "fingerprint": "1666723351904",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "297",
        "name": "conversaoOtimizada",
        "type": "awec",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "mode",
            "value": "MANUAL"
          },
          {
            "type": "TEMPLATE",
            "key": "country",
            "value": "{{customerCountry}}"
          },
          {
            "type": "TEMPLATE",
            "key": "city",
            "value": "{{customerCity}}"
          },
          {
            "type": "TEMPLATE",
            "key": "street",
            "value": "{{customerAddress}}"
          },
          {
            "type": "TEMPLATE",
            "key": "last_name",
            "value": "{{customerName}}"
          },
          {
            "type": "TEMPLATE",
            "key": "phone_number",
            "value": "{{customerPhone}}"
          },
          {
            "type": "TEMPLATE",
            "key": "region",
            "value": "{{customerNeighborhood}}"
          },
          {
            "type": "TEMPLATE",
            "key": "postal_code",
            "value": "{{customerCEP}}"
          },
          {
            "type": "TEMPLATE",
            "key": "first_name",
            "value": "{{customerName}}"
          },
          {
            "type": "TEMPLATE",
            "key": "email",
            "value": "{{customerEmail}}"
          }
        ],
        "fingerprint": "1666723358540",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "298",
        "name": "Clearsale - SessionID",
        "type": "jsm",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "javascript",
            "value": "function() {\n  var charSet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\n  function getRandomIndex(length) {\n    return Math.floor(Math.random() * length);\n  }\n\n  function getRandomChar(charSet) {\n    var index = getRandomIndex(charSet.length);\n    return charSet[index];\n  }\n\n  function generateRandomString(minLength, maxLength) {\n    var length = getRandomIndex(maxLength - minLength + 1) + minLength;\n    var result = '';\n    for (var i = 0; i < length; i++) {\n      result += getRandomChar(charSet);\n    }\n    return result;\n  }\n  \n  if (window.sessionId) {\n    return window.sessionId;\n  } else {\n    window.sessionId = generateRandomString(6, 128);\n    return window.sessionId;\n  }\n}"
          }
        ],
        "fingerprint": "1720705758287",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "299",
        "name": "Clearsale - App",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "viz2pyg8a0tfyqcbyx7g"
          }
        ],
        "fingerprint": "1720709196390",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "304",
        "name": "ecommerce.value",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.value"
          }
        ],
        "fingerprint": "1732677364572",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "305",
        "name": "ecommerce.transaction_id",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.transaction_id"
          }
        ],
        "fingerprint": "1732677380772",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "313",
        "name": "Price",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.0.price"
          }
        ],
        "fingerprint": "1746554049455",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "326",
        "name": "conversion_happened_at - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "conversion_happened_at"
          }
        ],
        "fingerprint": "1748611019451"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "327",
        "name": "currency - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "currency"
          }
        ],
        "fingerprint": "1748611019983"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "328",
        "name": "conversion_rule_id - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "conversion_rule_id"
          }
        ],
        "fingerprint": "1748611020337"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "329",
        "name": "user_data - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "user_data"
          }
        ],
        "fingerprint": "1748611020672"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "330",
        "name": "event_id - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "event_id"
          }
        ],
        "fingerprint": "1748611021077"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "331",
        "name": "value - F√≥rum Anual de M√©dias Empresas 2025 20011708",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "value"
          }
        ],
        "fingerprint": "1748611021404"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "335",
        "name": "items",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items"
          }
        ],
        "fingerprint": "1748613025482",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "337",
        "name": "item_category",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_category"
          }
        ],
        "fingerprint": "1748613153720",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "338",
        "name": "ecommerce.items.item_id",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_id"
          }
        ],
        "fingerprint": "1748613174145",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "339",
        "name": "ecommerce.items.item_name",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_name"
          }
        ],
        "fingerprint": "1748613196592",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "340",
        "name": "ecommerce.items.item_variant",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_variant"
          }
        ],
        "fingerprint": "1748613235741",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "341",
        "name": "ecommerce.items.price",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.price"
          }
        ],
        "fingerprint": "1748613259988",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "344",
        "name": "content_ids",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "content_ids"
          }
        ],
        "fingerprint": "1748613409504",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "345",
        "name": "content_name",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "content_name"
          }
        ],
        "fingerprint": "1748613435727",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "346",
        "name": "content_type",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "content_type"
          }
        ],
        "fingerprint": "1748613485685",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "347",
        "name": "ecommerce.items.item_category",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_category"
          }
        ],
        "fingerprint": "1748613543887",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "348",
        "name": "ecommerce.items.quantity",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.quantity"
          }
        ],
        "fingerprint": "1748613650726",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "351",
        "name": "ecommerce.items.affiliation",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.affiliation"
          }
        ],
        "fingerprint": "1748617164233",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "352",
        "name": "ecommerce.items.coupon",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.coupon"
          }
        ],
        "fingerprint": "1748617179108",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "353",
        "name": "ecommerce.items.discount",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.discount"
          }
        ],
        "fingerprint": "1748617195922",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "354",
        "name": "ecommerce.items.index",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.index"
          }
        ],
        "fingerprint": "1748617210880",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "355",
        "name": "ecommerce.items.item_brand",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_brand"
          }
        ],
        "fingerprint": "1748617229688",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "356",
        "name": "ecommerce.items.item_list_id",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_list_id"
          }
        ],
        "fingerprint": "1748617295038",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "357",
        "name": "ecommerce.items.item_list_name",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "ecommerce.items.item_list_name"
          }
        ],
        "fingerprint": "1748617311785",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "362",
        "name": "contents.item_id",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "contents.item_id"
          }
        ],
        "fingerprint": "1748617824823",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "363",
        "name": "contents.item_list_name",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "contents.item_list_name"
          }
        ],
        "fingerprint": "1748617841696",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "364",
        "name": "contents.price",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "contents.price"
          }
        ],
        "fingerprint": "1748617858450",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "365",
        "name": "contents.quantity",
        "type": "v",
        "parameter": [
          {
            "type": "INTEGER",
            "key": "dataLayerVersion",
            "value": "2"
          },
          {
            "type": "BOOLEAN",
            "key": "setDefaultValue",
            "value": "false"
          },
          {
            "type": "TEMPLATE",
            "key": "name",
            "value": "contents.quantity"
          }
        ],
        "fingerprint": "1748617873530",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "429",
        "name": "VAR - META - Pixel ID",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "684894971009462"
          }
        ],
        "fingerprint": "1771446347943",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "434",
        "name": "VAR - GA4 - Measurement ID",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "G-C0QXN7WFW2"
          }
        ],
        "fingerprint": "1770843006464",
        "formatValue": {}
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "476",
        "name": "VAR - META - Pixel ID - A",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "684894971009462"
          }
        ],
        "fingerprint": "1771446347913"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "variableId": "483",
        "name": "VAR - META - Pixel ID - B",
        "type": "c",
        "parameter": [
          {
            "type": "TEMPLATE",
            "key": "value",
            "value": "450110712092360"
          }
        ],
        "fingerprint": "1771446347913"
      }
    ],
    "folder": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "412",
        "name": "Meta Pixel",
        "fingerprint": "1770843006368"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "469",
        "name": "03 - Google Ads - Conversions",
        "fingerprint": "1771446347912"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "471",
        "name": "02 - GA4",
        "fingerprint": "1771446347913"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "472",
        "name": "03 - Google Ads - Base",
        "fingerprint": "1771446347913"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "474",
        "name": "90 - Utilities & Vendors",
        "fingerprint": "1771446347913"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "477",
        "name": "04 - Meta Ads",
        "fingerprint": "1771446347913"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "folderId": "480",
        "name": "01 - Consent Mode",
        "fingerprint": "1771446347913"
      }
    ],
    "builtInVariable": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "PAGE_URL",
        "name": "Page URL"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "PAGE_HOSTNAME",
        "name": "Page Hostname"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "PAGE_PATH",
        "name": "Page Path"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "REFERRER",
        "name": "Referrer"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "EVENT",
        "name": "Event"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_ELEMENT",
        "name": "Click Element"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_CLASSES",
        "name": "Click Classes"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_ID",
        "name": "Click ID"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_TARGET",
        "name": "Click Target"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_URL",
        "name": "Click URL"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CLICK_TEXT",
        "name": "Click Text"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_ELEMENT",
        "name": "Form Element"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_CLASSES",
        "name": "Form Classes"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_ID",
        "name": "Form ID"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_TARGET",
        "name": "Form Target"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_URL",
        "name": "Form URL"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "FORM_TEXT",
        "name": "Form Text"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CONTAINER_VERSION",
        "name": "Container Version"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "type": "CONTAINER_ID",
        "name": "Container ID"
      }
    ],
    "fingerprint": "1771456709010",
    "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/4701878300/containers/11816202/versions/0?apiLink=version",
    "customTemplate": [
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "templateId": "382",
        "name": "Facebook Pixel",
        "fingerprint": "1768932893231",
        "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"displayName\": \"Facebook Pixel\",\n  \"__wm\": \"VGVtcGxhdGUtQXV0aG9yX0ZhY2Vib29rLVNpbW8tQWhhdmE\\u003d\",\n  \"description\": \"This is an unofficial Google Tag Manager template for the Facebook Pixel.\",\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\"\n  ],\n  \"id\": \"cvt_5RM3Q\",\n  \"type\": \"TAG\",\n  \"version\": 1,\n  \"brand\": {\n    \"displayName\": \"facebookarchive\",\n    \"id\": \"github.com_facebookarchive\",\n    \"thumbnail\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO3dT4xd130f8CtKlq20Y9K7PqMGFS2tAKSQlWUDHKNeuIALsQXSrFKOFvKyGiEG8lbtKNnMokDILpOFyGUboCXRRbNoYQ7QyIsiEAlIAboROJChtxSHD4iUWBaLOzxv9Gben3nv3XPvPfeezwcYkJxH2Zw75Pt9z+/8e+7p06cFkK7BcLw99Ye7WhTFpfDzS+HX014uiuJyTV/MYVEUj8587kFRFI/Dzx+HXx8b7W/dn/lfAJIhAEBLBsPxpamCPinkk2JfZyFv2nRwmISCSXB4MNrfepzGHxPyIgBAjQbD8cuhmE8K/Xb48YrnfsrDEAjuT3USHo32t852HIBIBACIYKrQb4cfy49rnm0UB6GD8CgEBMEAIhAAYE2D4fhqGNFPf1z0HBt1FLoEJx+j/a0HCf35IHkCACwRRvZXw8j+qlF98g5CILgfQoFOASwgAMCUMLrfnir4fVmIl6vDqUBwX5cAviYAkLVQ8K9PFXyt/H47mgoEdwUCciYAkJUzI/xtBT97R5PugA4BuREA6LWw1357apSvpc8yh5PuQAgEziigtwQAeics3LsePizao4qDEAbuWlBI3wgA9EJo7e+Eom+UTx0OQxi4baqAPhAA6KzBcHx9qr2v6NOkw6lpgruePF0kANApYaS/G4q+BXyk4CiEgZs6A3SJAEDytPfpENMEdIYAQJKmFvLtuDiHjiovOLptASGpEgBIymA4noz03/CdoUfuhSBw2zeVVAgAtC6M9nfDaN+8Pn12FLoCN3UFaJsAQGvCaH/HXn0ydRDWCugK0AoBgEYZ7cMMXQFaIQDQiMFwvB0Kv7l9WOxeCAL3F/4OiEQAoFahzb9n+x6spdxOuGd6gDoJAEQXLuDZDR/a/LC5cnrgZugKuJiIqAQAognz+3tO6YPoJqcN7lknQCwCAJVNFf4bnibU7o4gQAwCABuzsA9aZcEglQgArC0U/j379yEJB6EjIAiwFgGAlSn8kDRBgLUIAJwrzPHfVvihE8ogsGONAOcRAFjI4j7oNIsFWUoAYEbYx39T4YdeKIPArnMEOEsA4IQDfKC3HCjEDAGAY47shSw4YpgTAkDmwsr+cmRwJfdnARl5GKYF7BjImACQqbDA76ZDfCBr90IQsFAwQxdyfwA5GgzHZav/geIP2SvfAx6E9wQyowOQkdDuv22eH5jjMJwfYFogEwJABrT7gTWYFsiEKYCeGwzHu9r9wBom0wK7Hlq/6QD01GA4vhra/Vb3A5t6GKYFHniC/SMA9MzUYT7/MfdnAUTzrkOE+kcA6BGL/IAaWSTYMwJAD4RRf7mN5+3cnwVQu1vhNEHdgI4TADrOqB9ogW5ADwgAHWXUDyRAN6DDBIAOssIfSIidAh3lHICOCUd2fqD4A4ko34s+cJxw9+gAdEQ4za8c9V/L/VkAyToI3QCnCHaADkAHDIbj6+E0P8UfSNm1cIrgdd+l9OkAJMxCP6DDLBBMnACQKAv9gB6wQDBhpgASNBiOd4qiuK/4Ax1XvofdD+9pJEYHIDGD4bgc9d/I/TkAvXNntL8lCCREAEhEWOV/16gf6LFySuC6XQJpMAWQgHCc7wPFH+i5K2GXwLZvdPsEgJaFwzN+WRTFxawfBJCL8r3ulw4Oap8pgJaELX43zfcDGbtTFMWurYLtEABaYL4f4IR1AS0RABoW9vff1/IHOHFUFMW28wKaZQ1Ag8Je2A8Uf4BTLoYLhWwTbJAA0JDBcFzO97+XxRcLsJn3wnslDTAFULOw2K883OeNXn+hAPFYHNgAAaBGofg70hdgfQ/DugAhoCamAGoSFvs53AdgM5NDg656fvXQAaiBlf4A0dghUBMdgMimbvJT/AGqu+hGwXroAEQU/oJa6Q9QjzdH+1u3Pds4dAAiGQzHu4o/QK3eC++1RKADEIE7/AEadWe0v2VKoCIdgIoUf4DG3QjvvVQgAFSg+AO0RgioSADYkOIP0DohoAJrANYUTvcrr/K91qk/OEB/HYQrhZ0auAYBYA2O9gVIlqOD12QKYEWKP0DSroQDgy75Nq1GAFiB4g/QCULAGgSAcyj+AJ0iBKxIADjfXcUfoFOuhPdulhAAlgjbS6z2B+iea7YILicALGCfP0DnOSdgCQFgDsUfoDeEgAUEgDMUf4DeEQLmEACmhGsmFX+A/rnhKuHTnAQYDIbjHff5A/Tem6P9rey7AYUOwDOKP0A23gvv+dnLvgMwGI6vhoN+Ls68CEAfHYV7Ax7k/N3NugOg+ANkqXzPvx9qQLay7QCEYyLL9Hd55kUAcnBYFMXVXG8QzLIDMHW+v+IPkK/LOd8bkOsUwE3n+wMQasHNHB9EdgFgMBzftNcfgCk3Qm3ISlZrAGz3A2CJrM4IyCYAhNWeH8y8AABfey2X7YFZTAEMhuOXw6I/AFjmfqgZvdf7ABBWd9611x+AFZS14m4OOwNy6ABY8Q/AOrLYGdDrADAYjves+AdgAzdCDemt3i4CHAzH20VR/HLmBQBY3Y9H+1u9XEPWywAQFnA8MO8PQEVH4bjgR317kH2dArDoD4AYLoaa0ju96wAMhuPb5v2hH15/5fnjr+PV7z5fXPzWc8W3XyqK3xs8f/K1vfrdC8W3v/VctK/1Vx//9tSvj754Wnz06Vdnfv3173n/zO+n1+6M9rd2+vQF9ioAOOkPuud737lQfO87zxWvv/LC8Y/lr2MX9iZMwsN0aPhw9NviyedPi08+Kz++avcPSAy9OimwNwHA3f6Qvm+/9NzxqL4cxZc/drHQV/FkKhxMugfvf/zlqV+TtHI9wHZfTgrsRQCYut7Xfn9IyKTgP/t4oXh1kOsFpKsrOwmTLkLZNSg/Phx9ddxJIAkPQwh43PVvxwszn+mmPcUf0lCO6sti/y+//0Lxg1ee911Z0+SZ/fT7s/9dGQ6ehYKnx9ML5c+n1yjQiCuh5ux2/XF3vgMwGI6vF0Xx32deABpTFv0//P1vHBf9f/4do/ymDYbjvL7gNPzr0f5Wp3cHdDoA2O8P7SkX6/301ReKn//wG4p+ywSAVnT+fICuTwHcVvyhWWXRL0f7P/1+X2YQYSMXQw3a7urj6+y/4HBG87WZF4DoysV8ZdE32odTrpW1aLS/1ck7Azo5BRC2/H0w8wIQVdnmf+tH3zgu/jlt1+saUwCte62LWwM7FwBs+YP6lYX/Fz95sfi3v/8NT7sDBIDWdXJrYBenAGz5g5qUrf6f//DF4o9/8qJHDKvr5NbATnUAXPEL9fnFT7553O7X6u8eHYBkdOrq4M4EgND6L+dYLs+8CGysPKXv1h98y+K+DhMAknEYtgZ2YiqgS1MAe4o/xFO2+8vCbzsfRHO5S1MBnegAaP1DXG/96MXjRX7a/f2gA5CcTkwFJN/zC63/3ly/CG0qR/3v/buXij/92TcVf6jP7VC7ktaFSb9drX+orpzr/79/8k+0/KF+l7swDZD0FIADfyCOP/1X3yze+qGtfX1lCiBZSR8QlPpQQOsfKihb/rf/6CXX8kI7yhp2NdVnn+wUwGA43nXgD2yuvKL3f//731H8oT1XQi1LUpIBIFzz28nLFSAF5Y19/+3nv2NvP7RvL9S05KT67nDTNb+wmfLinvf+6CWr/CENF0NNS05yASDs+X9j5gXgXOVxvjf/4FseFKTljVDbkpLiIkAL/2AD5al+bu+DZJW1LampgKQ6AIPh2HG/sAHFH5J3OdS4ZCQTAMIiiU5dpQgpUPyhM3ZTWhCYUgfAwj9Yk+IPnZLUgsAkAoCFf7C+crW/4g+dk8yCwFQ6AElukYBUlcXfan/orCRqXusBYDAc7zjxD1ZXnvBXnu0PdNaVUPta1WoACNclOvEPVvS971w4PuHPIT/QeXttXxncdgfAVb+whvIuf8UfeqH1K4NbCwAh+dj2BysqV/y/OnC2P/TIbptdgDbfTWz7gxVZ8Q+91Oq2wFYCQDgI4cbMC8CMct7foj/orRttHQ7UVgfAwj9YkXl/6L1WamLjAcDoH1ZX3u5n3h96r5UuQBvvLG77gxWU+/3/+CcvelSQh8ZrY6MBIBx/eG3mBWDGn/3MSX+QkWtNHxHcdAfA3D+s4K0fvVj84JXnPSrIS6M1srEAYPQPq/n2S88Vv9D6hxw12gVosgNg9A8r+LOffdOqf8hXY7WykQBg9A+rKff8O/AHstZYF6CpDoDRP6zglit+gYaOya89AIS9jUb/cI7XX3newj+g9EYT5wI00QEw+ocVlIf+AAS1185aA4BT/2A1Rv/AGbWfDlh3B8DoH1Zg9A/MUWsNrS0AhDuOr8+8AJxi9A8scD3U0lrU2QHYdd8/nO8PbfsD5rtY546AugMAsIR9/8A5uhUABsPxjtE/nO+tHyn+wFIXQ02Nrq4OgMV/sALtf2AFtdTU6AEgHGF4eeYF4JSy+DvzH1jB5TqOB66jA2DuH1Zg9A+sIXptjRoAwqEFb8y8AJxSLv6z9Q9YQ/TjgWN3AIz+YQU/ffUFjwlYV9QaGzsA1LJSEfpG+x/YQNQaGy0A2PoHqynb/68OmrqJG+iRqFsCY74LGf3DCrT/gQrSCgDu/IfVaf8DFVyLtRgwVgfA4j9YgfY/EEGUmhvrnUj7H1bwuq1/QHVRam7lAGDxH6zO/D8QQZTFgDE6AO78hxXpAACRVK69lQKAk/9gdWXxd/Y/EEnlkwGrdgCM/mFFr7+i/Q9EVakGV31HsvgPVqT93y1PvnhafPTpV8Unn5UfT4//7O9//OXM13AUfh+0oKzBNzf9v33u6dOnM59cxWA4vloUxQe+47Ca/7f3T00BJOxXH/+2eP/448viw9FXxZPPN3tvhIa9NtrferDJ/2WVDoDRP6zo1e9eUPwTU47w//qjL4v/+XdfHv8IHbWz6bkAVQKA+X9Y0e8NtP9T8dd/92XxX/72N4o+fXG90QAQ2v+XZ14A5io7ALTrv/7tb4r/9L/+8XhOH3rkclmTN5kG2LQD4OhfWIMOQHvKEf9/+B//oPDTZ7ubTMtvGgC0/2ENP7ADoHG//uyr4u2/+uJ4YR/03EY1ee2+5GA4vu7oX1id9n/z/vJv/rH4F//57xV/cnEx1Oa1bNIB2J75DLBQeQMgzShX9pft/nKRH2SmrM131/mSN3ln0v6HNZj/b0ZZ/P/NX/y94k+u1q7NawUAq/9hfd/7jv3/dZsUfyfykbHLoUavbN0OgMN/YE2mAOql+MOJtWr0uu9M2v+wJosA66P4wylr1eiV35nCtYPa/7AmRwDXp9zmp/jDicvrXBG8ztDE6B/WZPRfn3Krn+N8YcbKtVoAgBpdNPqvxUejr463+wEz4gaAwXB8qSiKazMvAEtZAFiPt//q8z5+WRDDtVCzz7Xqu5PDf2ADAkB8ZevfvD8stVLNXvXdSfsfaF256r+80Q9YaqWarQMANXrdJUBR/eX/+U3x5POnPfqKoBZxOgBO/wNSUI7+/+JvjP5hBSudCrhKB8DoH2hdueXP6B9Wdm7tFgCgRt9+yTbAWIz+YS0CALTp1YFdADGU+/6t/Ie1VAsAYQ7h4swLAA1yxS+s7eJ56wCWBgDb/4AUOPIXNrK0hp8XALT/gVb9+rOvik8+0/6HDSyt4ecFgKXtA4C6vf/xbz1j2MzSGr4wAJj/B1IgAMDGlq4DWBgAtP+BFAgAUMnCWi4AAEkz/w+VLKzlywLAwrYBcD43AVb3K6N/qGphLZ/7DjUYjl92/j9UY+RanWcIlV0ONX3G3ACwLDEANOWTz5z9DxHMremLAsDCOQOAphx9IQBABHNr+qIAMDctADTpo0+tAYAI5tb0RQHg2sxnAIAumlvTZwLAskMDAIDumVfbZwLAolYBANBZM7VdAACA/pup7QIAkCzHAEM0M7VdAACA/pup7acCQDgtyA2AANAvF8+eCHi2AzD3uEAAoPOWBoC5pwUBAJ13qsbrAABAHpZ2AAQAAOinpQFg7nGBAEDnnarxJwFg0X3BAEA/TNf66Q6AAAAA/TY3AMwcEgAA9MpJrZ8OAJd8jwGg105q/XQAcAYAAPTbSa3XAQCAfMztAFzxFwAAeu2k1h8HgMFwbPQPABmY1PxJB8AOAADIw3HNnwQAHQAAyIMOAABk6FQHAADIyCQAOAMAAPJwXPN1AAAgQ5MA4CIgAMjDcc2fBIDLvukAkIXjmm8KAAAydGEwHFsACAAZKWu/DgAAZEgAAIAMXXAKIABk5+oF9wAAQHYumQIAgAzpAABAfi5ZAwAA+blqCgAAMiQAAECGBAAAyNAFNwECQHZevuAmQADIzmVTAACQIQEAADIkAABAhgQAAMiQAAAAGRIAACBDAgAAZEgAAIAMCQAAkCEBAAAy9Nw/+5MnT33jqcNof8tzhZoMhmOPlkp0AAA65skXxm1UJwAAdMxHn37lW0ZlAgBAx3w4+q1vGZUJAAAd8+Rz3zGqEwAAOub9j7/0LaMyAQCgYz75zCJAqhMAADrmk88sAqQ6AQCgQz4aKf7EIQAAdIjRP7EIAAAd4gwAYikDwKGnCdANOgBEclgGgEeeJkA3CABE8sgUAECHvP+xUwCJQwAA6AiXABGTAADQERYAElMZAB54ogDpcwkQET0oA8BjTxQgfS4BIqLHpgAAOsIlQMSkAwDQES4BIqLH1gAAdIQzAIjogSkAgA5wCRCxCQAAHWD0T2wXRvtb9z1VgLQ5A4CYytqvAwDQAc4AILZJAHAjIEDCnnxuBwDRHNf8SQBwIyBAwlwCRETHNd8UAEDifm0BIDWYBAALAQES5QAgIjuu+ToAAImzAJA6TAKA0wABEqUDQGTHNX8SANwHAJCojz7VASCq45qvAwCQOB0AIvu6AzDa39IBAEiUY4CJaVLzpxcBPvSEAdLyK/v/ieuk1k8HAF0AgMQcfaH9T1QntX46ADgLACAxLgEispNarwMAkDBnABDZ3A6AnQAAiXEJEJGd1PrpAOBCIIDEuASIyE5q/UkAGO1vCQAACXEJELFN1/qzdwEceNoAaXAAEJGdqvFnA4AuAEAiLAAkslM1XgAASJQOAJEtDQDOAgBIhEuAiOxUjdcBAEiUDgCRLe4AhNWBR544QPtcAkRER2d3+53tABQOBAJon0uAiGymtgsAAAky+ieymdouAAAkyPw/kc3UdgEAIEHOACCymdo+EwBG+1szvwmAZpkCIKZ5tX0mAASOBAZo0UefCgBEM7emLwoAM0kBgGa4BIjI5tb0RQHAiYAALbEAkMjm1vRFAWBuWgCgfu87A4C45tb0uQEgnBZ0OPMCALU7+kIHgGgOz54AODE3AARzEwMA9XIJEBEtrOXLAsDcOQMA6vXhyCJAollYywUAgMQ8+dwUANEsrOULA0A4NMDNgAANcgkQER3NOwBoYmEACBb+hwDE5wRAIlpaw88LAAtbBwDE5wwAIlpaw88LAHdnPgNAbVwCRERLa/jSAGAdAECzTAEQydL5/2KFDkBhGgCgOS4BIpJza7cAAJAIlwARkQAA0BUWABJR9QAQ5hDcCwBQM5cAEcnhefP/xYodgEIXAKB+LgEikpVq9qoBYOlWAgCqcwkQkaxUs3UAABLhEiAiidcBGO1vPS6K4mDmBQCiePLFU5cAEcNBqNnnWrUDUJgGAKiP/f9EsnKtfmHmM4uV/6N/vvBVOGMwHM98Ljej/a3cH0El/g7B2lYOACt3AEb7W49sBwSAZB2GWr2SdaYACtMAAJCstWr0ugHg9sxnAIAUrFWj1woATgUEgCStdPrftHU7AIVpAABIztq1eZMA4FAgAEjL2rV57QAw2t8qU8bRzAsAQBuOQm1eyyYdgMI0AAAkY6MF+psGgJsznwEA2tBcALAbAACSsPbq/4lNOwCFaQAAaN3GtbhKAHAoEAC0a+NavHEACC2HhzMvAABNeLhp+7+o2AEodAEAoDWVanDVAGAdAAC0o1INrhQAwrWD92ZeAADqdG+dq3/nqdoBKHQBAKBxlWtv5QAw2t+67WhgAGjMUai9lcToABQWAwJAY6LU3FgBwNHAANCMKDU3SgAICxEOZl4AAGI6qLr4byJWB6AwDQAAtYtWa6MFAIsBAaBWURb/TcTsABS6AABQm6g1NnYAsBgQAOoRtcZGDQBOBgSAWlQ++e+s2B2AQhcAAKKLXlujB4DR/tb9oigOZ14AADZxGGprVHV0AEp7M58BAJKpqbUEAFsCASCKqFv/ptXVASisBQCAymqrpXUHAF0AANjMUScDwGh/63GM+4oBIFN3Qy2tRZ0dgMJiQADYWK01tNYAEA4tuDPzAgCwzJ3YB/+cVXcHoNAFAIC11V47aw8AjgcGgLVEP/Z3niY6AIUtgQCwskZqZiMBIBxheDDzAgAw7aCOY3/naaoDUFgLAADnaqxWNhYAdAEAYKnGRv9Fwx2AQhcAABZqtEY2GgBCsrEjAABOu9fk6L9ooQNQ2p35DADkrfHa2HgAcDogAJxS+6l/87TRASisBQCAE63UxFYCQEg6t2ZeAIC83Gpj9F+02AEoQuI5mvksAOThqM2OeGsBINxx7IhgAHJ1s877/s/TZgegCAHgcOazANBvh20PglsNACH5WBAIQG722hz9Fwl0AMoQcLsoioczLwBAPz0Mta9VrQeAwOFAAOQiiZqXRAAIxx86HAiAvrvT9JG/i6TSAShsCwSg51rd9ndWMgEgHIRgWyAAfXWzrUN/5kmpA1CGgD3bAgHoocNQ45KRVAAIdmY+AwDdllxtSy4AhMUR92ZeAIBuavyu/1Wk2AEowhYJCwIB6LqjVLe6JxkAwiIJJwQC0HV7KS38m5ZqB6AMATedEAhAhz0MtSxJyQaAwIJAALoq6RqWdAAY7W89KIri3ZkXACBt74YalqzUOwCFK4MB6JjWr/pdRfIBIFyXaCoAgK7Yafuq31V0oQMwORvg1swLAJCWWynu+Z+nEwEgcEwwACk77NIW9s4EAFMBACSuE63/iS51AEwFAJCqzrT+JzoVAII9BwQBkJCHXTy9tnMBwFQAAInpVOt/oosdAAcEAZCK5A/8WaSTAaB4FgLKdsvBzAsA0IyDUIs6qbMBINhxbTAALTjq+nR0pwNAuGLRegAAmraT6jW/q+p6B6AMAXdtDQSgQbdC7em0zgeAwNZAAJrQyS1/8/QiAExtDbQeAIC6HHV1y988fekATLYG7s68AABx7HZ1y988vQkAxbMQcLsoijszLwBANXdCjemNXgWA4lkI2LEeAICIHoba0iu9CwDBdesBAIjgKNSU3ullAAh7M3v5DQOgUde7vt9/kb52ACZXB78z8wIArOadrl3xu47eBoDiWQi4aVEgABu4E2pIb/U6AAS7FgUCsIaHOWwr730ACAc2WBQIwCqOwrx/Lw77WSaHDsBkUeD2zAsAcNp2Xxf9nZVFACi+PinwzZkXAOCZN/t00t95sgkAxdcnBbo5EICzbvXtpL/zZBUAimchYNfOAACm3Am1ISvZBYDAzgAAilxW/M+TZQAIqzvLRYGHMy8CkIvDsOiv9yv+58m1A2B7IEDestnut0i2AaD4emfAthAAkJXyPX87pxX/82QdAIqvQ0CW8z8AmdrNvfgXAsAzYeuHMwIA+u/N3Lb7LSIABOEvhNsDAfrrHcX/awLAFLcHAvRW72/3W5cAcMZof2tHCADolTvhvZ0pAsAcQgBAbyj+CwgACwgBAJ2n+C8hACwR/uLcW/w7AEjUPcV/OQHgfDvuDQDolIfhvZslBIBzTN0bIAQApO9hzuf7r0MAWIEQANAJiv8aBIAVCQEASVP81yQArGEqBFgYCJCOe4r/+l7o2h+4bZNrhAfDcXmc5I28nwZA62z125AOwIacEwDQOsW/AgGgAiEAoDWKf0UCQEVCAEDjFP8IBIAIwl9EVwkD1O8dxT8OASCScM3km734YgDS9KYrfeMRACIa7W/dDiHgqDdfFED7jkLxv+17EY8AEFn4C7otBABEcRT2+Cv+kQkANRjtbz0IIeCwd18cQHMOQ/F/4JnHJwDUJPyFveroYICNlO+dVxX/+ggANZo6Otg2QYDV3XG0b/0cBVyz8Bd4ZzAclz++3esvFqC6W6P9rV3PsX46AA0Jf6FtEwRY7E3FvzkCQIPCKtbX7BAAOKV8T3zNSv9mCQANszgQ4BSL/VoiALRgtL/1yOJAgJPFfo88iuZZBNiSqcWBZer98ywfApCzdxzr2y4dgJaFfwA/ti4AyET5Xvdjxb99AkACRvtb960LADIwme+/75vdPlMAiQhzYFcHw3G5CvZG7s8D6B37+xOjA5CYcM+1GwWBvjiyvz9NAkCCpm4UNCUAdNlDN/mlSwBI1NSNgrdyfxZAJ91yk1/arAFIWNgquDsYjssFM2WCvpj7MwGSV7b8d0b7W3d9q9KmA9AB4R9SuUvgIPdnASTtIKzyV/w7QADoiHKXwGh/q5wSeDf3ZwEk6d3yPcqpft0hAHTMaH9rL1woZIEgkIKH4SKfPd+NbrEGoIMmFwoNhuPyJK23c38eQGvs7e8wHYAOC//wymOED3N/FkCjDsNxvop/hwkAHTd1jLDtgkATbjnOtx9MAfTA1HbBu2G74OXcnwkQ3WHY3qfw94QOQI9MdQPsFABieteov3+ee/r0ae7PoJcGw/HV0A24kvuzaNNofyvfLz6CwXDc+a+h4x6GUb/T/HpIB6Cnyn+wo/2tMgS842IhYE3le8Y75XuI4t9fAkDPjfa3boZpgXu5PwtgJfdCu/+mx9VvFgFmIJzMdX0wHG9bJAgsYJFfZgSAjIR/2C8PhuPyxK5dlwsBod1/00l++TEFkKHwD72cFriT+7OAzN0J7X7FP0MCQKbC5UI74SRBtwxCXg7CSX47Lu/JlymAzIVpge3BcFyGgT3rA6DXynn+vdH+1m3fZnQAOBbeECaHCNk2CP1yNHWYj+LPMQcBMWMwHF8K3YYbofkAAAMNSURBVAA3DVbkIKBqHAQUxa0w6n/cg6+FiHQAmFG+UYRbvn7XQkHorPLf7u+W/5YVf+YRAFhoaqGgIADdMSn8FvixlADAuewYgE6wsp+12AXAyqZ2DGyHNQLXPD1o3UGY43eCH2sRAFjbmSBQdgZueIrQuLLVf1vhZ1N2AVDZYDh+OXQEBIEz7AKoxi6Aue6EEb82P5UIAEQzFQSuu2fgGQGgGgHgRLmP/67CT0ymAIgmvDHthHMEdl04BJUdX9QTLuuxlY+odACoVe5HDOsAVJNxB8CRvdROAKARYcFg2RF4I6cnLgBUk2EAuBdG+xb2UTtTADQivKHdD+sEdkwPwIlJm/+2+X2apANAa8L0wE6fzxPQAaim5x2Ag1D0tflphQBA60JXYDeEgV51BQSAanoYAMrR/u3Q5jfap1UCAEkZDMfXQxDoxVoBAaCaHgWAe2G0f3fmFWiJNQAkJbxB3g1dgUkYuOK7RAc9DKP9u0b7pEgHgOQNhuOrIQhc79p2Qh2AajrYATgMB/aUo/0HM69CQgQAOqVrYUAAqKYjAUDRp5MEADqrC2FAAKgm4QCg6NN5AgC9MBUGtlNaMyAAVJNYAFD06RWLAOmF8IZcbiUsphYQXu/zGQM04iAUfQv56B0dAHotXEy0HcLAdtNTBToA1bTQAShH+fdD0b/vAh76TAAgK1Pdge3wUevBQwJANQ0EgKNQ8O8b5ZMbAYCshbUD23UFAgGgmhoCwHTBv28un5wJADDlTCC4WnXKQACoJkIAKFv6DxR8mCUAwBJhyuBq+Nhed1GhAFDNBgHgIBT7stA/0NKHxewCgCVCAXkUFoUdC12C8uPlqU6Bq42bdTQ1sn8Uir3RPaxBAIA1hUJzqtiETsEkEEx+bgtiHAehyD+aFHwje6jOFADU69LUFMJkS+IlFxzNKC/OeRwK/ONJCz/8HKiBAADtuTQVDK6GP8V2+PHlrl18tMRhGL0XocAXU8VdkYeWCACQvklIKM78fDo4TNQZHKYL+cR0AX88NTXy+Ow0CZCQoij+P1JIkvZz+kS3AAAAAElFTkSuQmCC\"\n  },\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"alwaysInSummary\": true,\n    \"valueValidators\": [\n      {\n        \"errorMessage\": \"You must provide a Pixel ID\",\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"args\": [\n          \"^[0-9,]+$\"\n        ],\n        \"errorMessage\": \"Invalid Pixel ID format\",\n        \"type\": \"REGEX\"\n      }\n    ],\n    \"displayName\": \"Facebook Pixel ID(s)\",\n    \"simpleValueType\": true,\n    \"name\": \"pixelId\",\n    \"type\": \"TEXT\",\n    \"valueHint\": \"e.g. 12345678910\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"enhancedEcommerce\",\n    \"checkboxText\": \"Enhanced Ecommerce dataLayer Integration\",\n    \"simpleValueType\": true,\n    \"help\": \"If you check this, then the Facebook pixel will populate \\u003cstrong\\u003eEvent Name\\u003c/strong\\u003e and \\u003cstrong\\u003eObject Properties\\u003c/strong\\u003e automatically from the last \\u003ca href\\u003d\\\"https://developers.google.com/tag-manager/enhanced-ecommerce\\\"\\u003eecommerce\\u003c/a\\u003e object pushed into the dataLayer array.\"\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"standardEventName\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"displayValue\": \"PageView\",\n                \"value\": \"PageView\"\n              },\n              {\n                \"displayValue\": \"AddPaymentInfo\",\n                \"value\": \"AddPaymentInfo\"\n              },\n              {\n                \"displayValue\": \"AddToCart\",\n                \"value\": \"AddToCart\"\n              },\n              {\n                \"displayValue\": \"AddToWishlist\",\n                \"value\": \"AddToWishlist\"\n              },\n              {\n                \"displayValue\": \"CompleteRegistration\",\n                \"value\": \"CompleteRegistration\"\n              },\n              {\n                \"displayValue\": \"Contact\",\n                \"value\": \"Contact\"\n              },\n              {\n                \"displayValue\": \"CustomizeProduct\",\n                \"value\": \"CustomizeProduct\"\n              },\n              {\n                \"displayValue\": \"Donate\",\n                \"value\": \"Donate\"\n              },\n              {\n                \"displayValue\": \"FindLocation\",\n                \"value\": \"FindLocation\"\n              },\n              {\n                \"displayValue\": \"InitiateCheckout\",\n                \"value\": \"InitiateCheckout\"\n              },\n              {\n                \"displayValue\": \"Lead\",\n                \"value\": \"Lead\"\n              },\n              {\n                \"displayValue\": \"Purchase\",\n                \"value\": \"Purchase\"\n              },\n              {\n                \"displayValue\": \"Schedule\",\n                \"value\": \"Schedule\"\n              },\n              {\n                \"displayValue\": \"Search\",\n                \"value\": \"Search\"\n              },\n              {\n                \"displayValue\": \"StartTrial\",\n                \"value\": \"StartTrial\"\n              },\n              {\n                \"displayValue\": \"SubmitApplication\",\n                \"value\": \"SubmitApplication\"\n              },\n              {\n                \"displayValue\": \"Subscribe\",\n                \"value\": \"Subscribe\"\n              },\n              {\n                \"displayValue\": \"ViewContent\",\n                \"value\": \"ViewContent\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"PageView\"\n          }\n        ]\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"customEventName\",\n            \"displayName\": \"\",\n            \"simpleValueType\": true\n          }\n        ]\n      },\n      {\n        \"value\": \"variable\",\n        \"displayValue\": \"Variable\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"variableEventName\",\n            \"macrosInSelect\": true,\n            \"selectItems\": [],\n            \"simpleValueType\": true\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"NOT_EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eecEventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"eec\",\n        \"displayValue\": \"Set automatically from dataLayer\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"The Enhanced Ecommerce integration populates the Event Name automatically depending on what type of \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object was last pushed into dataLayer (\\\"detail\\\" -\\u003e \\\"ViewContent\\\", \\\"add\\\" -\\u003e \\\"AddToCart\\\", \\\"checkout\\\" -\\u003e \\\"InitiateCheckout\\\", \\\"purchase\\\" -\\u003e \\\"Purchase\\\").\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"consent\",\n    \"displayName\": \"Consent Granted (GDPR)\",\n    \"macrosInSelect\": true,\n    \"selectItems\": [\n      {\n        \"value\": true,\n        \"displayValue\": \"True\"\n      },\n      {\n        \"value\": false,\n        \"displayValue\": \"False\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"If you set Consent Granted to \\u003cstrong\\u003efalse\\u003c/strong\\u003e, the pixel will not send any hits until a tag is fired where Consent Granted is set to \\u003cstrong\\u003etrue\\u003c/strong\\u003e. See \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/implementation/gdpr/\\\"\\u003ethis article\\u003c/a\\u003e for more information.\"\n  },\n  {\n    \"simpleValueType\": true,\n    \"name\": \"advancedMatching\",\n    \"checkboxText\": \"Enable Advanced Matching\",\n    \"type\": \"CHECKBOX\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"dataProcessingOptionsGroup\",\n    \"displayName\": \"Data Processing Options\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"dpoInfo\",\n        \"displayName\": \"Data Processing Options force this Facebook event to comply to regional regulations with regard to the processing and selling of user data. Read \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-apis/data-processing-options\\\"\\u003ethis\\u003c/a\\u003e for more information about how to configure this section.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"dpoLDU\",\n        \"checkboxText\": \"Limited Data Use (LDU)\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoCountry\",\n        \"displayName\": \"Country\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoState\",\n        \"displayName\": \"State\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"advancedMatching\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"displayName\": \"Customer Information Data Parameters\",\n    \"name\": \"advancedMatchingGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"displayName\": \"\",\n        \"name\": \"advancedMatchingList\",\n        \"simpleTableColumns\": [\n          {\n            \"selectItems\": [\n              {\n                \"displayValue\": \"City\",\n                \"value\": \"ct\"\n              },\n              {\n                \"displayValue\": \"Country\",\n                \"value\": \"cn\"\n              },\n              {\n                \"displayValue\": \"Date of Birth\",\n                \"value\": \"db\"\n              },\n              {\n                \"displayValue\": \"Email\",\n                \"value\": \"em\"\n              },\n              {\n                \"displayValue\": \"External ID\",\n                \"value\": \"external_id\"\n              },\n              {\n                \"displayValue\": \"First Name\",\n                \"value\": \"fn\"\n              },\n              {\n                \"displayValue\": \"Gender\",\n                \"value\": \"ge\"\n              },\n              {\n                \"displayValue\": \"Last Name\",\n                \"value\": \"ln\"\n              },\n              {\n                \"displayValue\": \"Phone\",\n                \"value\": \"ph\"\n              },\n              {\n                \"displayValue\": \"State\",\n                \"value\": \"st\"\n              },\n              {\n                \"displayValue\": \"Zip Code\",\n                \"value\": \"zp\"\n              }\n            ],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add parameter\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Object Properties\",\n    \"name\": \"objectPropertiesGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"enhancedEcommerceObject\",\n        \"displayName\": \"\\u003cstrong\\u003eWarning!\\u003c/strong\\u003e Object properties are populated automatically based on the most recent \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object pushed into dataLayer. If you add properties here that are already set by the integration (content_type, contents, num_items, value, currency), then the properties you add here will override those set automatically by the integration!\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"enhancedEcommerce\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"objectPropertiesFromVariable\",\n        \"displayName\": \"Load Properties From Variable\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": false,\n            \"displayValue\": \"False\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"You can use a variable that returns a JavaScript object with the properties you want to use. This object will be merged with any additional properties you add via the table below. Any conflicts will be resolved in favor of the properties you add to the table.\"\n      },\n      {\n        \"name\": \"objectPropertyList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"More Settings\",\n    \"name\": \"moreSettingsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"help\": \"Facebook collects some metadata (e.g. structured data) and user interactions (e.g. clicks) automatically. Check this box to disable this automatic configuration of the pixel.\",\n        \"simpleValueType\": true,\n        \"name\": \"disableAutoConfig\",\n        \"checkboxText\": \"Disable Automatic Configuration\",\n        \"type\": \"CHECKBOX\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"disablePushState\",\n        \"checkboxText\": \"Disable History Event Tracking\",\n        \"simpleValueType\": true,\n        \"help\": \"The Facebook Pixel tracks history events (pushState and replaceState) automatically as PageViews. Check this box to prevent the pixel from tracking such events automatically.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventId\",\n        \"displayName\": \"Event ID\",\n        \"simpleValueType\": true,\n        \"help\": \"Set the Event ID parameter in case you are tracking the same event server-side as well. The Event ID can be used to deduplicate the same event if sent from multiple sources. See more \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/\\\"\\u003ehere\\u003c/a\\u003e.\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst createQueue = require('createQueue');\nconst callInWindow = require('callInWindow');\nconst aliasInWindow = require('aliasInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst setInWindow = require('setInWindow');\nconst injectScript = require('injectScript');\nconst makeTableMap = require('makeTableMap');\nconst makeNumber = require('makeNumber');\nconst getType = require('getType');\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst math = require('Math');\nconst log = require('logToConsole');\n\nconst initIds = copyFromWindow('_fbq_gtm_ids') || [];\nconst pixelIds = data.pixelId;\nconst standardEventNames = ['AddPaymentInfo', 'AddToCart', 'AddToWishlist', 'CompleteRegistration', 'Contact', 'CustomizeProduct', 'Donate', 'FindLocation', 'InitiateCheckout', 'Lead', 'PageView', 'Purchase', 'Schedule', 'Search', 'StartTrial', 'SubmitApplication', 'Subscribe', 'ViewContent'];\nconst ecommerce = copyFromDataLayer('ecommerce', 1);\n\n// Helper methods\nconst fail = msg => {\n  log(msg);\n  data.gtmOnFailure();\n};\n\nconst mergeObj = (obj, obj2) => {\n  for (let key in obj2) {\n    if (obj2.hasOwnProperty(key)) {\n      obj[key] = obj2[key];\n    }\n  }\n  return obj;\n};\n\nconst parseEecObj = prod => {\n  return {\n    id: prod.id,\n    quantity: prod.quantity\n  };\n};\n\n// Initialize EEC integration\nlet eventName, action, eecObjectProps;\nif (data.enhancedEcommerce) {\n  if (!ecommerce) return fail('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n  if (ecommerce.detail) { eventName = 'ViewContent'; action = 'detail'; }\n  else if (ecommerce.add) { eventName = 'AddToCart'; action = 'add'; }\n  else if (ecommerce.checkout) { eventName = 'InitiateCheckout'; action = 'checkout'; }\n  else if (ecommerce.purchase) { eventName = 'Purchase'; action = 'purchase'; }\n  else return fail('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n  \n  if (!ecommerce[action].products || getType(ecommerce[action].products) !== 'array') return fail('Facebook pixel: Most recently pushed \"ecommerce\" object did not have a valid \"products\" array.');\n  eecObjectProps = {\n    content_type: 'product',\n    contents: ecommerce[action].products.map(parseEecObj),\n    value: ecommerce[action].products.reduce((acc, cur) => {\n      const curVal = math.round(makeNumber(cur.price || 0) * (cur.quantity || 1) * 100) / 100;\n      return acc + curVal;\n    }, 0.0),\n    currency: ecommerce.currencyCode || 'USD'\n  };\n  if (['InitiateCheckout', 'Purchase'].indexOf(eventName) > -1) eecObjectProps.num_items = ecommerce[action].products.reduce((acc,cur) => {\n    return acc + makeNumber(cur.quantity || 1);\n  }, 0);\n}\n\n// Build the fbq() command arguments\nconst cidParams = data.advancedMatchingList && data.advancedMatchingList.length ? makeTableMap(data.advancedMatchingList, 'name', 'value') : {};\nconst objectProps = data.objectPropertyList && data.objectPropertyList.length ? makeTableMap(data.objectPropertyList, 'name', 'value') : {};\nconst objectPropsFromVar = getType(data.objectPropertiesFromVariable) === 'object' ? data.objectPropertiesFromVariable : {};\nconst mergedObjectProps = mergeObj(objectPropsFromVar, objectProps);\nconst finalObjectProps = mergeObj(eecObjectProps || {}, mergedObjectProps);\neventName = eventName || (data.eventName === 'custom' ? data.customEventName : (data.eventName === 'variable' ? data.variableEventName : data.standardEventName));\n\nconst command = standardEventNames.indexOf(eventName) === -1 ? 'trackSingleCustom' : 'trackSingle';\nconst consent = data.consent === false ? 'revoke' : 'grant';\n\n// Utility function to use either fbq.queue[]\n// (if the FB SDK hasn't loaded yet), or fbq.callMethod()\n// if the SDK has loaded.\nconst getFbq = () => {\n  // Return the existing 'fbq' global method if available\n  let fbq = copyFromWindow('fbq');\n  if (fbq) {\n    return fbq;\n  }\n  \n  // Initialize the 'fbq' global method to either use\n  // fbq.callMethod or fbq.queue)\n  setInWindow('fbq', function() {    \n    const callMethod = copyFromWindow('fbq.callMethod.apply');\n    if (callMethod) {           \n      callInWindow('fbq.callMethod.apply', null, arguments); \n    } else {       \n      callInWindow('fbq.queue.push', arguments);\n    }\n  });\n  aliasInWindow('_fbq', 'fbq');\n  \n  // Create the fbq.queue\n  createQueue('fbq.queue');\n    \n  // Return the global 'fbq' method, created above\n  return copyFromWindow('fbq');\n};\n\n// Get reference to the global method\nconst fbq = getFbq();\n\nfbq('consent', consent);\n\n // Set Data Processing Options\nif (data.dpoLDU) {\n  fbq('dataProcessingOptions', ['LDU'], makeNumber(data.dpoCountry), makeNumber(data.dpoState));\n}\n\n// Handle multiple, comma-separated pixel IDs,\n// and initialize each ID if not done already.\npixelIds.split(',').forEach(pixelId => {\n  if (initIds.indexOf(pixelId) === -1) {\n    \n    // If the user has chosen to disable automatic configuration\n    if (data.disableAutoConfig) {\n      fbq('set', 'autoConfig', false, pixelId);\n    }\n    \n    // If the user has chosen to disable pushState and replaceState tracking\n    if (data.disablePushState) {\n      setInWindow('fbq.disablePushState', true);\n    }\n   \t\n    \n    // Initialize pixel and store in global array\n    fbq('init', pixelId, cidParams);\n\n    // Monitoring agent string for Tag Setup\n    fbq('set','agent','tmSimo-GTM-WebTemplate', pixelId);\n\n    initIds.push(pixelId);\n    setInWindow('_fbq_gtm_ids', initIds, true);\n    \n  }\n\n  // Call the fbq() method with the parameters defined earlier\n  if (data.eventId) {\n    fbq(command, pixelId, eventName, finalObjectProps, {eventID: data.eventId});\n  } else {\n    fbq(command, pixelId, eventName, finalObjectProps);\n  }\n});\n\ninjectScript('https://connect.facebook.net/en_US/fbevents.js', data.gtmOnSuccess, data.gtmOnFailure, 'fbPixel');\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.callMethod.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.disablePushState\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://connect.facebook.net/en_US/fbevents.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"ecommerce\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Library is injected\n  code: |-\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('injectScript').wasCalledWith(scriptUrl, success, failure, 'fbPixel');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq does not exist - method created\n  code: |-\n    let fbq;\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return fbq;\n    });\n\n    mock('createQueue', key => {});\n\n    mock('setInWindow', (key, val) => {\n      if (key === 'fbq') fbq = val;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('aliasInWindow').wasCalledWith('_fbq', 'fbq');\n    assertApi('setInWindow').wasCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq exists - method copied\n  code: |-\n    mock('setInWindow', key => {\n      if (key === 'fbq') fail('setInWindow called with fbq even though variable exists');\n    });\n\n    mock('createQueue', key => {});\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: makeTableMap called\n  code: |-\n    mockData.advancedMatching = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('makeTableMap').wasCalledWith(mockData.advancedMatchingList, 'name', 'value');\n    assertApi('makeTableMap').wasCalledWith(mockData.objectPropertyList, 'name', 'value');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Consent set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU set\n  code: |-\n    mockData.dpoLDU = true;\n    mockData.dpoCountry = '0';\n    mockData.dpoState = '0';\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          assertThat(arguments[1], 'LDU array value not set').isEqualTo(['LDU']);\n          assertThat(arguments[2], 'LDU country not set').isEqualTo(0);\n          assertThat(arguments[3], 'LDU state not set').isEqualTo(0);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU not set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          fail('dataProcessingOptions called even though DPO was not set');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs set - do not initialize\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === '_fbq_gtm_ids') return ['12345', '23456'];\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'init') fail('init called even though pixel IDs already initialized');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs not set - run init process\n  code: \"let index = 0;\\nlet count = 0;\\nlet _fbq_gtm_ids;\\n\\nmockData.advancedMatching\\\n    \\ = true;\\nmockData.disableAutoConfig = true;\\nmockData.disablePushState = true;\\n\\\n    \\nmock('setInWindow', (key, val) => {\\n  if (key === 'fbq.disablePushState') count\\\n    \\ += 1;\\n  if (key === '_fbq_gtm_ids') _fbq_gtm_ids = val;\\n});\\n\\nconst initObj\\\n    \\ = {\\n  ct: 'Helsinki',\\n  cn: 'Finland',\\n  external_id: 'UserId'\\n};\\n\\nmock('copyFromWindow',\\\n    \\ key => {\\n  if (key === 'fbq') return function() {\\n    if (arguments[0] ===\\\n    \\ 'set' && arguments[1] === 'autoConfig' && arguments[2] === false) {\\n      assertThat(arguments[3],\\\n    \\ 'autoConfig called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\    }\\n    if (arguments[0] === 'set' && arguments[1] === 'agent') {\\n      assertThat(arguments[2],\\\n    \\ 'agent set with invalid value').isEqualTo('tmSimo-GTM-WebTemplate');\\n     \\\n    \\ assertThat(arguments[3], 'agent set with invalid pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      index += 1;\\n    }\\n    if (arguments[0] === 'init') {\\n      assertThat(arguments[1],\\\n    \\ 'init called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'init called with incorrect initObj').isEqualTo(initObj);\\n\\\n    \\    } \\n  };\\n});\\n\\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\\n    \\nassertThat(_fbq_gtm_ids, '_fbq_gtm_ids has incorrect contents').isEqualTo(mockData.pixelId.split(','));\\n\\\n    assertThat(index, 'init called incorrect number of times: ' + index).isEqualTo(2);\\n\\\n    assertThat(count, 'fbq.disablePushState called incorrect number of times: ' +\\\n    \\ count).isEqualTo(2);\\n\\n// Verify that the tag finished successfully.\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send standard event\n  code: \"const eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index\\\n    \\ = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send custom event\n  code: \"mockData.eventName = 'custom';\\n\\nconst eventParams = {\\n  prop1: 'val1',\\n\\\n    \\  prop2: 'val2'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingleCustom')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingleCustom called with incorrect pixel\\\n    \\ ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n      assertThat(arguments[2],\\\n    \\ 'trackSingleCustom called with incorrect event name').isEqualTo(mockData.customEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingleCustom called with incorrect event\\\n    \\ parameters').isEqualTo(eventParams);\\n      index += 1;\\n    }\\n  };\\n});\\n\\\n    \\     \\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\n//\\\n    \\ Verify that the tag finished successfully.\\nassertThat(index, 'trackSingleCustom\\\n    \\ called incorrect number of times').isEqualTo(2);\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with standard name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'PageView';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.variableEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with custom name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'custom';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingleCustom') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingleCustom called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingleCustom called with incorrect event\\\n    \\ name').isEqualTo(mockData.variableEventName);\\n      assertThat(arguments[3],\\\n    \\ 'trackSingleCustom called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingleCustom called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event parameters from a variable\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n\\\n    };\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockData.objectPropertiesFromVariable);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce integration fails with invalid object\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce integration fails with invalid action\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    mock('copyFromDataLayer', key => {\n      if (key === 'ecommerce') return {\n        invalid: true\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce ViewContent works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    detail: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('ViewContent');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce AddToCart works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    add: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('AddToCart');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce InitiateCheckout works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    checkout: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('InitiateCheckout');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce Purchase works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    purchase: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable and list works\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'var1',\\n  prop2: 'var2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nconst expected = {\\n  prop1: 'val1',\\n  prop2: 'val2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('PageView');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(expected);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable, list and eec works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertiesFromVariable\\\n    \\ = {\\n  content_type: 'product_group'\\n};\\nmockData.objectPropertyList = [{\\n\\\n    \\  name: 'currency',\\n  value: 'USD'\\n}];\\nmockEec.fb.num_items = 3;\\nmockEec.fb.content_type\\\n    \\ = 'product_group';\\nmockEec.fb.currency = 'USD';\\n\\nmock('copyFromDataLayer',\\\n    \\ key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode: 'EUR',\\n  \\\n    \\  purchase: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\nlet\\\n    \\ index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event ID\n  code: \"mockData.eventId = 'eventId';\\n\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[4], 'eventID not included in hit').isEqualTo({eventID:\\\n    \\ mockData.eventId});\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\nsetup: \"const mockData = {\\n  pixelId: '12345,23456',\\n  eventName: 'standard',\\n\\\n  \\  standardEventName: 'PageView',\\n  customEventName: 'custom',\\n  variableEventName:\\\n  \\ 'standard',\\n  consent: true,\\n  advancedMatching: false,\\n  advancedMatchingList:\\\n  \\ [{name: 'ct', value: 'Helsinki'},{name: 'cn', value: 'Finland'},{name: 'external_id',\\\n  \\ value: 'UserId'}],\\n  objectPropertiesFromVariable: false,\\n  objectPropertyList:\\\n  \\ [{name: 'prop1', value: 'val1'},{name: 'prop2', value: 'val2'}],\\n  disableAutoConfig:\\\n  \\ false,\\n  disablePushState: false,\\n  enhancedEcommerce: false,\\n  eventId: ''\\n\\\n  };\\n\\nconst mockEec = {\\n  gtm: {  \\n    products: [{\\n      id: 'i1',\\n      name:\\\n  \\ 'n1',\\n      category: 'c1',\\n      price: '1.00',\\n      quantity: 1\\n    },{\\n\\\n  \\      id: 'i2',\\n      name: 'n2',\\n      category: 'c2',\\n      price: '2.00',\\n\\\n  \\      quantity: 2\\n    }]\\n  },\\n  fb: {\\n    content_type: 'product',\\n    contents:\\\n  \\ [{\\n      id: 'i1',\\n      quantity: 1\\n    },{\\n      id: 'i2',\\n      quantity:\\\n  \\ 2\\n    }],\\n    currency: 'EUR',\\n    value: 5.00\\n  }\\n};\\n\\nconst scriptUrl\\\n  \\ = 'https://connect.facebook.net/en_US/fbevents.js';\\n\\n// Create injectScript\\\n  \\ mock\\nlet success, failure;\\nmock('injectScript', (url, onsuccess, onfailure)\\\n  \\ => {\\n  success = onsuccess;\\n  failure = onfailure;\\n  onsuccess();\\n});\\n\\n\\\n  mock('copyFromWindow', key => {\\n  if (key === 'fbq') return () => {};\\n});\"\n\n\n___NOTES___\n\nCreated on 18/05/2019, 21:57:16\n\n\n",
        "galleryReference": {
          "host": "github.com",
          "owner": "facebookarchive",
          "repository": "GoogleTagManager-WebTemplate-For-FacebookPixel",
          "version": "11c004614f6b8f7cc999caabef521086116ce302",
          "signature": "9b5f067bb372c56946c4f85fafa08c3d19e242fe20633c242c36343a930b2177",
          "galleryTemplateId": "5RM3Q"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "templateId": "395",
        "name": "[ND] RD Station",
        "fingerprint": "1768932893296",
        "templateData": "___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"[ND] RD Station\",\n  \"brand\": {\n    \"id\": \"brand_dummy\",\n    \"displayName\": \"\",\n    \"thumbnail\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAAAclBMVEX///8AAAASEhJSUlKWlpZjY2NeXl4KCgqsrKwzMzPm5ub8/PyZmZnh4eHo6OhgYGAeHh60tLQZGRnU1NQrKytzc3OLi4s1NTXOzs5+fn5qamp0dHTy8vJFRUVpaWlLS0slJSWDg4O/v7/GxsY+Pj6ioqLyotzdAAADaklEQVR4nO3a22KiMBRGYQIK1DOgeKhVtPr+r1g7yoiQnWTjRnvxr8sZKt/YQEIYz0MIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCSKzhqtf/+ihmxXK/iMf240PfWjrfr5Ntd+TvTaEqRafc5g6UW7Pddzfk5Kt5Mn+TiaAvBSt5crbXn8tfm361DLSK1kNh89knT/Zh+Io4aKX2A0nycGE6l58IoVVhHmw8s+3cZyG0SsUG9pAYzpVGQmgxtfV7NqjZaCG1k1mpnhBaRO1oJtQt0AJqZ7NSByH08+qQcbK1EFrNHFY1hoz350a5EFrNn1HzzJpx3RL9jPqTfbK6ui26vZpvbqhbo9uqKXO0X+eLDzd1A71L4oeSM/XvaqVeEx8W/FvUDOOC+PsHdUOkWaXEcmrKHJYHjOcO6gZaNwWdpdTUfWNzX6hn1BCpzDJOaC8mFusFb5bZEZ5F9aABpb7PMm5or0d80JxjpsbG4vEwUv1/lnFDZ8T1EdFPF80OhGVTP3BCqUubEzqbvdJ8US/N6sbjgwY9frHZqs7taOouxDI3znNrpz/coq7PUA30oEtzn/qBLfUEqVXX0dS1LGLe0xsp2xNDXUN3azZtI3FGyCNaxHwgzh6YN6ws6kXjTyxmxTGTD1cWNH2/HtXVVTRppnZR9A37bdXEdx3FNXUFLWS+1FpNjc6aumf9Cb6ZVoeWHU2LelNHk/ecFmZanQa7vq5yWW9WD8NH9FazQ9/eTC9LqcolHfn7vqo/o8rB0uYn1NSzzHWEZHkQ3N52yJvvA9C18lHFdY3ZhZmvLh8O3NTdmOmrkSq8TfMZtWaL7589oczNXTVm3O/6dLsj2lcTcnPK8+ryeZ9U967T04q6WgXM/M3H2cqsVss8OZ7DqEszX50eLWpTQma+OmqvFjPzt039Uk2N2xeY6QcZqvLORt2vX2H2vCRlskct1MJmzxtz3hT9lrPVurdiz3YMqLuUvjVTrXknJlF2WHLctyndUd2R+bdxki+m4fS67J/WCh8LOFdjh+Z2Oaj/nJned/7L5suoMs+N+tcCb29ieJFYHN+tIxtR01M4eTfN0OBT9+7qxNque0ODvLZplk7/7siolPWCZZH6fjrr+H+WIoQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGZfgAZnTYGwdra+wAAAABJRU5ErkJggg\\u003d\\u003d\"\n  },\n  \"description\": \"\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"config\",\n    \"displayName\": \"Configura√ß√£o\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"tokenPublico\",\n        \"displayName\": \"Token P√∫blico\",\n        \"simpleValueType\": true,\n        \"help\": \"Token p√∫blico disponibilizado pelo RD Station.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"tokenPrivado\",\n        \"displayName\": \"Token Privado\",\n        \"simpleValueType\": true,\n        \"help\": \"Token privado disponibilizado pelo RD Station.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"event\",\n    \"displayName\": \"Eventos\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"email\",\n        \"displayName\": \"E-mail\",\n        \"simpleValueType\": true,\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"conversionIdentifier\",\n        \"displayName\": \"Identificador da convers√£o\",\n        \"simpleValueType\": true,\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"conversiontag\",\n        \"displayName\": \"Tag da convers√£o\",\n        \"simpleValueType\": true,\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"form_url\",\n        \"displayName\": \"URL da p√°gina\",\n        \"simpleValueType\": true,\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"values\",\n        \"displayName\": \"\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Nome do par√¢metro\",\n            \"name\": \"dataName\",\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Valor do par√¢metro\",\n            \"name\": \"dataValue\",\n            \"type\": \"TEXT\"\n          }\n        ]\n      }\n    ],\n    \"help\": \"Nome e valor dos par√¢metros enviados para o RD Station.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"tracking\",\n    \"displayName\": \"Rastreio\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"client_tracking_id\",\n        \"displayName\": \"Lead Tracking\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"traffic_source\",\n        \"displayName\": \"traffic_source\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"utm_source\",\n        \"displayName\": \"utm_source\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"utm_medium\",\n        \"displayName\": \"utm_medium\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"utm_campaign\",\n        \"displayName\": \"utm_campaign\",\n        \"simpleValueType\": true\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst log = require('logToConsole');\nlog('data =', data);\n\nconst queryPermission = require('queryPermission');\nconst sendPixel = require('sendPixel');\nconst encodeUriComponent = require('encodeUriComponent');\n\nfunction buildParamsStr(data) {\n  var paramsArr = [];\n  paramsArr.push(\"email=\" + encodeUriComponent(data.email));\n  paramsArr.push(\"email=\" + encodeUriComponent(data.email));\n  paramsArr.push(\"token_rdstation=\" + encodeUriComponent(data.tokenPublico));\n  paramsArr.push(\"tokenPrivado=\" + encodeUriComponent(data.tokenPrivado));\n  paramsArr.push(\"identificador=\" + encodeUriComponent(data.conversionIdentifier));\n  paramsArr.push(\"tags=\" + encodeUriComponent(data.conversiontag));\n  paramsArr.push(\"client_tracking_id=\" + encodeUriComponent(data.client_tracking_id));\n  paramsArr.push(\"traffic_source=\" + encodeUriComponent(data.traffic_source)); \n  paramsArr.push(\"form_url=\" + encodeUriComponent(data.form_url));\n  paramsArr.push(\"utm_source=\" + encodeUriComponent(data.utm_source));\n  paramsArr.push(\"utm_medium=\" + encodeUriComponent(data.utm_medium));\n  paramsArr.push(\"utm_campaign=\" + encodeUriComponent(data.utm_campaign));\n  for (var i = 0; i < data.values.length; i++){\n    paramsArr.push(encodeUriComponent(data.values[i].dataName)+\"=\"+ encodeUriComponent(data.values[i].dataValue));\n  }\n  return paramsArr.join(\"&\");\n}\n\n\nconst endpointUri = \"https://script.google.com/macros/s/AKfycbxJaLanvzXUPapcAHJewILnoGlK8iKPpnGiTzjAFuA3vPs8vcl_KKflcvSEsJxdyMi7/exec\";\n\nconst paramsStr = buildParamsStr(data);\n\nconst url = endpointUri + \"?\" + paramsStr;\n\nlog('url =', url);\n\nif (queryPermission('send_pixel', url)) {\n  sendPixel(url);\n  log('pixel sent');\n} else {\n  log('do not have \"send_pixel\" permission');\n}\n\n// Chame data.gtmOnSuccess depois que a tag for conclu√≠da.\ndata.gtmOnSuccess();\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_pixel\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://script.google.com/\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\n\n\n___NOTES___\n\nCreated on 6/13/2022, 12:01:54 AM\n\n\n"
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "templateId": "430",
        "name": "Adsmurai Facebook, TikTok, Pinterest, Snapchat Pixel & Conversions API (CAPI)",
        "fingerprint": "1771449447471",
        "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_NN64H\",\n  \"version\": 1,\n  \"displayName\": \"Adsmurai Facebook, TikTok, Pinterest, Snapchat Pixel \\u0026 Conversions API (CAPI)\",\n  \"categories\": [\n    \"ADVERTISING\",\n    \"CONVERSIONS\",\n    \"REMARKETING\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_Adsmurai-Google-Tag-Manager-Templates\",\n    \"displayName\": \"Adsmurai-Google-Tag-Manager-Templates\",\n    \"thumbnail\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABiVBMVEX////64ebukKLkUG7kT23rf5X40tnyqbfbGUDbGD/sh5vxqLftiZ3yrLrxpLPrgZbwn6/worHshJnqepDwobHdJUrnYn3jTmzmYHrmXHfgOlz3ztbrfJLfNFbkVXHlWnb87vHeKU32ws3gOVr87fDmXXj63+XdJkvqeZDkUW798fPcHELnaIH74+j1wczqe5H0uMTdI0j63uT2xtDcIEb0ucXiRmX86+72xc/1wMrgN1neKk7xprX3ydL1vcjkVHHfMlX+9vf75en75urzsL3hPF375Oj3ytPrgJbjSmj1v8rkUm/iQ2LjTGrukaTzsr/99ffcHUThPl/fMFP2w83xo7L0u8flWXXhPV798/Xoa4Tsh5zlWHTxpLTdJkrhO1zztcH40NjeKE3zs8DwnK3pdIzbGkHfM1byrrz0t8P//P3lW3fnZH787O/409rlV3TrfpT41NzmXnnshprcH0XjTWvjS2nfL1LoaoP//v7qdY3lV3P//f3oboflVnLnZ4H0usbdJEnxp7ajH9kTAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+UHDAspNBsMx4YAAAKiSURBVGje7ddnVxNBFAbgKxCTa9xgIcECiAUbYm8gNhQbsSvGLmLvvTf85W52Zyaz2TJlZ7545v10dzK59+yzyZwEwMXFxcXFRTXzOjq7CvPt9S+WsJkFtvqXkWShnf4esnTY6F9BLt0WfSwpedgWw0oVjMWoUhkTYlDJw8QYU6pgSgwplTE1RpQ8zIgBpUWYmdxKi1GQnErC/ohLLPqEWarf35Ppn+NJF+X6az+HHtn+iAWLPtpKvE+1xsreZaxcviKPUsRnJfSRqh9ggJSrYHC1vlLEZ42/EE5Yuw7ohCG/Wr9BV6nY3h9go19t2hyU/oThLUE1UtVTivhsJYvbELeTcgB3kGqnllLEZxdb7sPde9iEvfvCSkcp4rOfe8FXGmUTxkIuGDmgqjTO9z8YeclXOkTKw3jkaFhN8BMkTu9jCT6D40wJj7N7mCRKJ/gJJ4UDTiX4nMaeltKZmBJ/D1PCAfW4z1m/PtdSOt9SuhCbcFE44BLdevkKWQkPh6vkqhtxmpTXsHGdPOkGfVdJOOAG3XqTLNwi17fJ9Rj96gHcwbvkHu7Rd00KB8zQrfdng+tOdvcPguuHzT8h4feh9gjJhJnHdNMT4YDgTAjzFODZc+6ZN5VehOU00DOp8RLgVYlueS3uD/CGdRyFXv5Di7PAzu237FTth4lhuvpOpj/Ae7r/Q1ekP5Y+srL6iZX1z7T68lVuAHxDrXyXbB9RUoikT5uSfKR9NJUUfLSUlHw0lBR9lJWUfRSVNHyUlLR8FJQ0faSVhvL058/WlNR+5BsAP7P7/8rZHgRP+nf+/gCFDB8T/TM+SwZ8MpWM+GQoGfJJVTLmk6Jk0CdRyahPgpJhn5iScZ82JQs+ESWp34d6+TM1N1f/a6+/i4uLi8t/m3/BYoFDwbDTogAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNy0xMlQxMTo0MTozOSswMDowMFUZBSYAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDctMTJUMTE6NDE6MzkrMDA6MDAkRL2aAAAAAElFTkSuQmCC\"\n  },\n  \"description\": \"This tag helps you to send event data to Facebook, TikTok, Pinterest, Linkedin, Quora, Snapchat, Spotify \\u0026 Microsoft Ads via conventional pixel and via their Conversions API.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"setup\",\n    \"displayName\": \"Event\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"event_name\",\n        \"displayName\": \"Event name\",\n        \"selectItems\": [\n          {\n            \"value\": \"AddPaymentInfo\",\n            \"displayValue\": \"AddPaymentInfo\"\n          },\n          {\n            \"value\": \"AddToCart\",\n            \"displayValue\": \"AddToCart\"\n          },\n          {\n            \"value\": \"AddToWishlist\",\n            \"displayValue\": \"AddToWishlist\"\n          },\n          {\n            \"value\": \"CompleteRegistration\",\n            \"displayValue\": \"CompleteRegistration\"\n          },\n          {\n            \"value\": \"Contact\",\n            \"displayValue\": \"Contact\"\n          },\n          {\n            \"value\": \"CustomizeProduct\",\n            \"displayValue\": \"CustomizeProduct\"\n          },\n          {\n            \"value\": \"Donate\",\n            \"displayValue\": \"Donate\"\n          },\n          {\n            \"value\": \"FindLocation\",\n            \"displayValue\": \"FindLocation\"\n          },\n          {\n            \"value\": \"InitiateCheckout\",\n            \"displayValue\": \"InitiateCheckout\"\n          },\n          {\n            \"value\": \"Lead\",\n            \"displayValue\": \"Lead\"\n          },\n          {\n            \"value\": \"PageView\",\n            \"displayValue\": \"PageView\"\n          },\n          {\n            \"value\": \"Purchase\",\n            \"displayValue\": \"Purchase\"\n          },\n          {\n            \"value\": \"Schedule\",\n            \"displayValue\": \"Schedule\"\n          },\n          {\n            \"value\": \"Search\",\n            \"displayValue\": \"Search\"\n          },\n          {\n            \"value\": \"StartTrial\",\n            \"displayValue\": \"StartTrial\"\n          },\n          {\n            \"value\": \"SubmitApplication\",\n            \"displayValue\": \"SubmitApplication\"\n          },\n          {\n            \"value\": \"Subscribe\",\n            \"displayValue\": \"Subscribe\"\n          },\n          {\n            \"value\": \"ViewContent\",\n            \"displayValue\": \"ViewContent\"\n          },\n          {\n            \"value\": \"customEvent\",\n            \"displayValue\": \"Custom Event\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"alwaysInSummary\": true,\n        \"defaultValue\": \"PageView\",\n        \"help\": \"For more info about the events, please check \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/reference/\\\"\\u003eFacebook\\u0027s Reference Guide\\u003c/a\\u003e.\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"customEventName\",\n            \"displayName\": \"Custom event name\",\n            \"simpleValueType\": true,\n            \"notSetText\": \"Please, enter the custom event\\u0027s name\",\n            \"enablingConditions\": [\n              {\n                \"paramName\": \"event_name\",\n                \"paramValue\": \"customEvent\",\n                \"type\": \"EQUALS\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\",\n                \"errorMessage\": \"Please, enter the custom event\\u0027s name\",\n                \"enablingConditions\": []\n              }\n            ]\n          }\n        ],\n        \"macrosInSelect\": true\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"fireMethod\",\n        \"displayName\": \"Fire method\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"onlyPixel\",\n            \"displayValue\": \"Only pixel for web\"\n          },\n          {\n            \"value\": \"onlyCapi\",\n            \"displayValue\": \"Only Conversions API\"\n          },\n          {\n            \"value\": \"both\",\n            \"displayValue\": \"Both pixel for web \\u0026 Conversions API\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"alwaysInSummary\": true,\n        \"subParams\": [],\n        \"help\": \"Choose if you want to send this event only through pixel (web), through Conversions API (server) or both.\\n\\nRemember that you need to set up a server if you plan to use Conversions API. If you don\\u0027t want to set up your own server and save costs, consider using \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag pre-made servers\\u003c/a\\u003e.\",\n        \"defaultValue\": \"both\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"pixels\",\n        \"displayName\": \"Facebook Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Facebook Pixel ID\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"POSITIVE_NUMBER\",\n                \"errorMessage\": \"Please, add a valid pixel ID\"\n              }\n            ]\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"tiktok_pixels\",\n        \"displayName\": \"TikTok Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"TikTok Pixel ID\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"pinterest_pixels\",\n        \"displayName\": \"Pinterest Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Pinterest Pixel ID\",\n            \"valueHint\": \"Expected format: tag_id|advertiser_id . Ex: 12314534|6565823462\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"snapchat_pixels\",\n        \"displayName\": \"Snapchat Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Snapchat Pixel ID\",\n            \"valueHint\": \"Expected format: 867f406d-330cd-49d7-8425-21434f5c778c\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"linkedin_pixels\",\n        \"displayName\": \"Linkedin Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Linkedin Pixel ID\",\n            \"valueHint\": \"Expected format: 345734588\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"quora_pixels\",\n        \"displayName\": \"Quora Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Quora Pixel ID\",\n            \"valueHint\": \"Expected format: 527765582828194|7d3d75f5a34f4a7c9\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"microsoft_pixels\",\n        \"displayName\": \"Microsoft Ads Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Microsoft UET Tag ID\",\n            \"valueHint\": \"Expected format: 527765582828194\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"spotify_pixels\",\n        \"displayName\": \"Spotify Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Spotify Pixel ID\",\n            \"valueHint\": \"Expected format: 867f406d-330c-49d7-8425-21434f5c778c|6ce8adc55e4d737963aa1a425fb5d618\",\n            \"displayValue\": \"\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"google_pixels\",\n        \"displayName\": \"Google Ads Pixel(s) - Discontinued\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Google Ads conversion ID + label\",\n            \"valueHint\": \"Ex: AW-857837465656/h3fawt68rjk\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"REGEX\",\n                \"args\": [\n                  \"AW-\\\\d+/[a-zA-Z0-9_-]+\"\n                ],\n                \"errorMessage\": \"the format should be like \\\"AW-857837465656/h3fawt68rjk\\\"\",\n                \"enablingConditions\": []\n              }\n            ]\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"ga4_pixels\",\n        \"displayName\": \"Google Analytics 4 Pixel(s) - Discontinued\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Measurement ID\",\n            \"valueHint\": \"Ex: G-G45H4HD\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"REGEX\",\n                \"args\": [\n                  \"G-[a-zA-Z0-9]+\"\n                ],\n                \"errorMessage\": \"the format should be like \\\"G-G45H4HD\\\"\",\n                \"enablingConditions\": []\n              }\n            ]\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"postback_pixels\",\n        \"displayName\": \"Postback Pixel(s)\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Pixel ID\",\n            \"valueHint\": \"Ex: 12345\",\n            \"name\": \"pixelId\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": []\n          }\n        ],\n        \"newRowButtonText\": \"Add pixel ID\",\n        \"notSetText\": \"Please, add at least one pixel ID\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyCapi\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [],\n        \"help\": \"Add the pixel IDs which you want to fire this event for. This field applies for the pixel (web) events and server events when set up through \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e. If you use a custom server. the pixel IDs to be fired for this event when using Conversions API must be set server-side.\"\n      },\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"serverSetup\",\n        \"displayName\": \"Server setup for Conversions API\",\n        \"radioItems\": [\n          {\n            \"value\": \"serverlessTracking\",\n            \"displayValue\": \"I have an API key from Adsmurai One Tag\"\n          },\n          {\n            \"value\": \"ownServer\",\n            \"displayValue\": \"I have my own server (deprecated)\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"defaultValue\": \"serverlessTracking\",\n        \"help\": \"- \\u003cb\\u003e(Recommended) I have an API key from Adsmurai One Tag\\u003c/b\\u003e: You can avoid setting up your own tracking server and its related costs by using a One Tag subscription. It will provide you an API key that you\\u0027ll need to enter in the field below when choosing this option. Nothing else required! Learn more or purchase a subscription at \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003ehttps://www.adsmurai.com/en/product/serverless-tracking\\u003c/a\\u003e.\\u003cbr\\u003e\\u003cbr\\u003e- \\u003cb\\u003eI have my own server\\u003c/b\\u003e: Choose this if you already set up your own tracking server and enter its URL in the field below. Facebook events are going to be sent there, so make sure your server processes the events accordingly. Consider the option above if you want to save time on setting up and maintaining your server, and potentially save money on server costs.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyCapi\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"subParams\": []\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"serverGtmUrl\",\n        \"displayName\": \"Your server\\u0027s URL\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"ownServer\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"The URL of the tag management server you are using for Conversions API. Your server is responsible for adding the pixel ID and the access token required for this event.\\u003cbr\\u003e\\u003cbr\\u003eIf you don\\u0027t want to set up your own server and save costs, consider using \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag pre-made servers\\u003c/a\\u003e.\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\",\n            \"errorMessage\": \"Please enter a valid URL\"\n          }\n        ],\n        \"valueHint\": \"https://gtm.yourwebsite.com\",\n        \"alwaysInSummary\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"stApiKey\",\n        \"displayName\": \"Adsmurai One Tag API key\",\n        \"simpleValueType\": true,\n        \"notSetText\": \"Please, fill this value\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"Learn \\u003ca href\\u003d\\\"https://www.youtube.com/watch?v\\u003dmwgh3Z_PUsc\\\"\\u003ehere\\u003c/a\\u003e how to retrieve your One Tag API key. Requires a One Tag subscription (learn more \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003ehere\\u003c/a\\u003e)\",\n        \"valueHint\": \"Your Adsmurai One Tag API Key\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\",\n            \"errorMessage\": \"Please, add your One Tag API key\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"stSubdomain\",\n        \"displayName\": \"Your tracking subdomain\",\n        \"simpleValueType\": true,\n        \"notSetText\": \"Please, fill this value\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"Optional. For first party tracking you can set your own subdomain. Learn more \\u003ca href\\u003d\\\"https://help.adsmurai.com/custom-domains-one-tag\\\"\\u003ehere\\u003c/a\\u003e\",\n        \"valueHint\": \"https://tr.yourdomain.com\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"ignoreGTMMSR\",\n        \"checkboxText\": \"Don\\u0027t fire events if url is gtm-msr.appspot.com\",\n        \"simpleValueType\": true,\n        \"defaultValue\": false,\n        \"help\": \"Google Tag Manager does periodically fire your tags for testing this can lead to events with empty data and with gtm-msr.appspot.com as origin.\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"customData\",\n    \"displayName\": \"Data parameters\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"useEcommerceData\",\n        \"displayName\": \"Use Ecommerce data\",\n        \"simpleTableColumns\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"provider\",\n            \"displayName\": \"Provider\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"all\",\n                \"displayValue\": \"All\"\n              },\n              {\n                \"value\": \"fb\",\n                \"displayValue\": \"Facebook\"\n              },\n              {\n                \"value\": \"tiktok\",\n                \"displayValue\": \"TikTok\"\n              },\n              {\n                \"value\": \"pinterest\",\n                \"displayValue\": \"Pinterest\"\n              },\n              {\n                \"value\": \"snapchat\",\n                \"displayValue\": \"Snapchat\"\n              },\n              {\n                \"value\": \"ga4\",\n                \"displayValue\": \"GA4\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"alwaysInSummary\": true,\n            \"subParams\": [],\n            \"help\": \"Choose if you want to send this property to be set for all providers or only for a specific one\",\n            \"defaultValue\": \"all\"\n          },\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"enabled\",\n            \"displayName\": \"Use Ecommerce data\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": true,\n                \"displayValue\": \"Yes\"\n              },\n              {\n                \"value\": false,\n                \"displayValue\": \"No\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"alwaysInSummary\": true,\n            \"subParams\": [],\n            \"help\": \"Use Ecommerce/Enhanced Ecommerce data sent to dataLayer as base info for this provider.\",\n            \"defaultValue\": true\n          }\n        ],\n        \"help\": \"Use Ecommerce/Enhanced Ecommerce data sent to dataLayer as base info for the parameters below. Any param can still be overwritten by filling it below.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"content_name\",\n        \"displayName\": \"Content name (content_name)\",\n        \"simpleValueType\": true,\n        \"help\": \"The name of the page or product associated with the event.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027lettuce\\u0027.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"content_category\",\n        \"displayName\": \"Content category (content_category)\",\n        \"simpleValueType\": true,\n        \"help\": \"The category of the content associated with the event.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027grocery\\u0027.\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"content_type\",\n        \"displayName\": \"Content type (content_type)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": \"product\",\n            \"displayValue\": \"product\"\n          },\n          {\n            \"value\": \"product_group\",\n            \"displayValue\": \"product_group\"\n          },\n          {\n            \"value\": \"home_listing\",\n            \"displayValue\": \"home_listing\"\n          },\n          {\n            \"value\": \"hotel\",\n            \"displayValue\": \"hotel\"\n          },\n          {\n            \"value\": \"flight\",\n            \"displayValue\": \"flight\"\n          },\n          {\n            \"value\": \"destination\",\n            \"displayValue\": \"destination\"\n          },\n          {\n            \"value\": \"vehicle\",\n            \"displayValue\": \"vehicle\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"It should be set to \\u0027product\\u0027 or \\u0027product_group\\u0027:\\u003cul\\u003e\\u003cli\\u003eUse \\u0027product\\u0027, if the keys you send represent products. Sent keys could be content_ids or contents.\\u003c/li\\u003e\\u003cli\\u003eUse \\u0027product_group\\u0027, if the keys you send in content_ids represent product groups. Product groups are used to distinguish products that are identical but have variations such as color, material, size or pattern.\\u003c/li\\u003e\\u003c/ul\\u003e\",\n        \"notSetText\": \"Not set\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"content_ids\",\n        \"displayName\": \"Content IDs (content_ids)\",\n        \"simpleValueType\": true,\n        \"help\": \"The content IDs associated with the event, such as product SKUs for items in an AddToCart event: [\\u0027ABC123\\u0027, \\u0027XYZ789\\u0027].\\u003cbr\\u003e\\u003cbr\\u003eIf content_type is a product, then your content IDs must be an array with a single string value. Otherwise, this array can contain any number of string values.\",\n        \"valueValidators\": []\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"contents\",\n        \"displayName\": \"Contents (contents)\",\n        \"simpleValueType\": true,\n        \"help\": \"A list of JSON objects that contain the product IDs associated with the event plus information about the products. id, quantity, and item_price are available fields.\\u003cbr\\u003e\\u003cbr\\u003eExample: [{\\u0027id\\u0027:\\u0027ABC123\\u0027,\\u0027quantity\\u0027 :2,\\u0027item_price\\u0027:5.99}, {\\u0027id\\u0027:\\u0027XYZ789\\u0027,\\u0027quantity\\u0027:2, \\u0027item_price\\u0027:9.99, \\u0027delivery_category\\u0027: \\u0027in_store\\u0027}]\\u003cbr\\u003e\\u003cbr\\u003eYou can choose to fill either this field or content_ids. If you fill both, this tag will use this field and discard content_ids.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"value\",\n        \"displayName\": \"Value (value)\",\n        \"simpleValueType\": true,\n        \"help\": \"\\u003cb\\u003eRequired for Purchase events.\\u003c/b\\u003e\\u003cbr\\u003eA numeric value associated with this event. This could be a monetary value or a value in some other metric.\\u003cbr\\u003e\\u003cbr\\u003eExample: 142.54.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"currency\",\n        \"displayName\": \"Currency (currency)\",\n        \"simpleValueType\": true,\n        \"help\": \"\\u003cb\\u003eRequired for Purchase events.\\u003c/b\\u003e\\u003cbr\\u003eCurrency must be a valid \\u003ca href\\u003d\\\"https://en.wikipedia.org/wiki/ISO_4217?fbclid\\u003dIwAR1WMqA7X8FtKGZY3A1DDBvf972gpNQ3oKzGg8tBhSCSbt_xc3HdLIxyW0A\\\"\\u003eISO 4217 three digit currency code\\u003c/a\\u003e.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027USD\\u0027.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"num_items\",\n        \"displayName\": \"No of items (num_items)\",\n        \"simpleValueType\": true,\n        \"help\": \"Use only with InitiateCheckout events. The number of items that a user tries to buy during checkout.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u00274\\u0027.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"search_string\",\n        \"displayName\": \"Search string (search_string)\",\n        \"simpleValueType\": true,\n        \"help\": \"Use only with Search events. A search query made by a user.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027lettuce\\u0027.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"status\",\n        \"displayName\": \"Status (status)\",\n        \"simpleValueType\": true,\n        \"help\": \"Use only with CompleteRegistration events. The status of the registration event.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027registered\\u0027.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"predicted_ltv\",\n        \"displayName\": \"Predicted LTV (predicted_ltv)\",\n        \"simpleValueType\": true,\n        \"help\": \"Predicted lifetime value of a subscriber as defined by the advertiser and expressed as an exact value.\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"customProperties\",\n        \"displayName\": \"Custom properties\",\n        \"simpleTableColumns\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"provider\",\n            \"displayName\": \"Provider\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"all\",\n                \"displayValue\": \"All\"\n              },\n              {\n                \"value\": \"fb\",\n                \"displayValue\": \"Facebook\"\n              },\n              {\n                \"value\": \"tiktok\",\n                \"displayValue\": \"TikTok\"\n              },\n              {\n                \"value\": \"pinterest\",\n                \"displayValue\": \"Pinterest\"\n              },\n              {\n                \"value\": \"snapchat\",\n                \"displayValue\": \"Snapchat\"\n              },\n              {\n                \"value\": \"google\",\n                \"displayValue\": \"Google Ads\"\n              },\n              {\n                \"value\": \"ga4\",\n                \"displayValue\": \"GA4\"\n              },\n              {\n                \"value\": \"quora\",\n                \"displayValue\": \"Quora\"\n              },\n              {\n                \"value\": \"linkedin\",\n                \"displayValue\": \"Linkedin\"\n              },\n              {\n                \"value\": \"microsoftads\",\n                \"displayValue\": \"Microsoft Ads\"\n              },\n              {\n                \"value\": \"spotify\",\n                \"displayValue\": \"Spotify\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"alwaysInSummary\": true,\n            \"subParams\": [],\n            \"help\": \"Choose if you want to send this property to be set for all providers or only for a specific one\",\n            \"defaultValue\": \"all\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property name\",\n            \"name\": \"propertyName\",\n            \"type\": \"TEXT\",\n            \"isUnique\": false\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property value\",\n            \"name\": \"propertyValue\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"help\": \"Add as many custom properties as you want by adding new rows.\"\n      }\n    ],\n    \"help\": \"Parameters with extra data that you can send along your events. See \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/reference/\\\"\\u003ethis guide\\u003c/a\\u003e to know which parameters are accepted for each standard event. All fields are optional, except currency and value when event is Purchase.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"userData\",\n    \"displayName\": \"Customer information parameters\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"em\",\n        \"displayName\": \"Email (em)\",\n        \"simpleValueType\": true,\n        \"help\": \"An email address, in lowercase.\\u003cbr\\u003e\\u003cbr\\u003eExample: joe@eg.com\\u003cbr\\u003e\\u003cbr\\u003e\\u003ci\\u003eNote: This tag will format the email in lowercase and trim any white spaces that could appear behind or after the email.\\u003c/i\\u003e\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"ph\",\n        \"displayName\": \"Phone (ph)\",\n        \"simpleValueType\": true,\n        \"help\": \"A phone number. Include only digits with country code, area code, and number.\\u003cbr\\u003e\\u003cbr\\u003eExample: 16505551212\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"fn\",\n        \"displayName\": \"First name (fn)\",\n        \"simpleValueType\": true,\n        \"help\": \"A first name in lowercase.\\u003cbr\\u003e\\u003cbr\\u003eExample: joe.\\u003cbr\\u003e\\u003cbr\\u003e\\u003ci\\u003eNote: This tag will format the email in lowercase and trim any white spaces that could appear behind or after the first name.\\u003c/i\\u003e\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"ln\",\n        \"displayName\": \"Last name (ln)\",\n        \"simpleValueType\": true,\n        \"help\": \"A last name in lowercase.\\u003cbr\\u003e\\u003cbr\\u003eExample: smith.\\u003cbr\\u003e\\u003cbr\\u003e\\u003ci\\u003eNote: This tag will format the email in lowercase and trim any white spaces that could appear behind or after the last name.\\u003c/i\\u003e\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"db\",\n        \"displayName\": \"Date of birth (db)\",\n        \"simpleValueType\": true,\n        \"help\": \"A date of birth given as year, month, and day.\\u003cbr\\u003e\\u003cbr\\u003eExample: 19971226 for December 26, 1997.\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"ge\",\n        \"displayName\": \"Gender (ge)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": \"f\",\n            \"displayValue\": \"Female\"\n          },\n          {\n            \"value\": \"m\",\n            \"displayValue\": \"Male\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Gender, in lowercase. Either f or m.\",\n        \"notSetText\": \"Not set\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"ct\",\n        \"displayName\": \"City (ct)\",\n        \"simpleValueType\": true,\n        \"help\": \"A city in lower-case without spaces or punctuation.\\u003cbr\\u003e\\u003cbr\\u003eExample: menlopark.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"st\",\n        \"displayName\": \"State (st)\",\n        \"simpleValueType\": true,\n        \"help\": \"A two-letter state code in lowercase.\\u003cbr\\u003e\\u003cbr\\u003eExample: ca.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"zp\",\n        \"displayName\": \"Zip code (zp)\",\n        \"simpleValueType\": true,\n        \"help\": \"If you are in the United States, this is a five-digit zip code. For other locations, follow each country\\u0027s standards.\\u003cbr\\u003e\\u003cbr\\u003eExample: 94035 (for United States)\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"country\",\n        \"displayName\": \"Country (country)\",\n        \"simpleValueType\": true,\n        \"help\": \"A two-letter country code in lowercase.\\u003cbr\\u003e\\u003cbr\\u003eExample: us.\\u003cbr\\u003e\\u003cbr\\u003e\\u003ci\\u003eNote: This tag will format the email in lowercase and trim any white spaces that could appear behind or after the country.\\u003c/i\\u003e\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"external_id\",\n        \"displayName\": \"External ID (external_id)\",\n        \"simpleValueType\": true,\n        \"help\": \"Any unique ID from the advertiser, such as loyalty membership IDs, user IDs, and external cookie IDs. You can send one or more external IDs for a given event.  If External ID is being sent via other channels, it should be in the same format when sent via conversions API. \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/external-id\\\"\\u003eLearn more about External ID.\\u003c/a\\u003e\"\n      }\n    ],\n    \"help\": \"User data to append either in the init call (for \\u003ca href\\u003d\\\"https://www.facebook.com/business/help/611774685654668\\\"\\u003eManual Advanced Matching\\u003c/a\\u003e) or in the Conversion API events. All fields are optional.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"serverData\",\n    \"displayName\": \"Server event parameters\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"test_event_code\",\n        \"displayName\": \"FB Test event code (test_event_code)\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"Code used to verify that your server events are received correctly by Facebook. Use this code to test your server events in the Test Events feature in Events Manager. See \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/using-the-api#testEvents\\\"\\u003eTest Events Tool\\u003c/a\\u003e for an example.\\n\\u003cbr\\u003e\\n\\u003cbr\\u003e\\nNote: this option only appears when you use \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e to send server events. If you set up your own server, please set there your test event code.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"tiktok_test_event_code\",\n        \"displayName\": \"Tiktok Test event code (test_event_code)\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"Code used to verify that your server events are received correctly by Tiktok. Use this code to test your server events in the Test Events feature in Events Manager. See \\u003ca href\\u003d\\\"https://ads.tiktok.com/help/article/test-tiktok-pixel-events-video-walkthrough?lang\\u003den\\\"\\u003eTest Events Tool\\u003c/a\\u003e for an example.\\n\\u003cbr\\u003e\\n\\u003cbr\\u003e\\nNote: this option only appears when you use \\u003ca href\\u003d\\\"https://www.adsmurai.com/en/product/serverless-tracking\\\"\\u003eAdsmurai One Tag\\u003c/a\\u003e to send server events. If you set up your own server, please set there your test event code.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"pinterest_test\",\n        \"checkboxText\": \"Set test mode for pinterest pixels\",\n        \"simpleValueType\": true,\n        \"help\": \"Events will be sent in test mode (?test\\u003dtrue) to pinterest.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"hashData\",\n        \"checkboxText\": \"Hash user data (read tooltip before checking this)\",\n        \"simpleValueType\": true,\n        \"help\": \"Hashing user data is mandatory. Check this box if you\\u0027re not hashing it, so we can do it for you.\",\n        \"subParams\": [\n          {\n            \"type\": \"CHECKBOX\",\n            \"name\": \"hashExternalId\",\n            \"checkboxText\": \"Hash also External ID field\",\n            \"simpleValueType\": true,\n            \"defaultValue\": false,\n            \"enablingConditions\": [\n              {\n                \"paramName\": \"hashData\",\n                \"paramValue\": true,\n                \"type\": \"EQUALS\"\n              }\n            ],\n            \"help\": \"If checked, the value set in the \\\"External ID\\\" field inside the \\\"Customer information parameters\\\" section will be hashed too. This may be useful when External ID data that you sent via other methods is hashed, as hashing this field is optional.\"\n          }\n        ],\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"ownServer\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"hashDataOnST\",\n        \"checkboxText\": \"Hash user data on the server\",\n        \"simpleValueType\": true,\n        \"help\": \"When sending user data through Conversions API, user data must be hashed in SHA-256. Check this box if you want Adsmurai One Tag servers to hash it for you (hasing will be done on the server). Don\\u0027t check this box if your data is already hashed.\",\n        \"subParams\": [\n          {\n            \"type\": \"CHECKBOX\",\n            \"name\": \"hashExternalIdOnST\",\n            \"checkboxText\": \"Hash also External ID field\",\n            \"simpleValueType\": true,\n            \"defaultValue\": false,\n            \"enablingConditions\": [\n              {\n                \"paramName\": \"hashDataOnST\",\n                \"paramValue\": true,\n                \"type\": \"EQUALS\"\n              }\n            ],\n            \"help\": \"If checked, the value set in the \\\"External ID\\\" field inside the \\\"Customer information parameters\\\" section will be hashed too. This may be useful when External ID data that you sent via other methods is hashed, as hashing this field is optional.\"\n          }\n        ],\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"serverSetup\",\n            \"paramValue\": \"serverlessTracking\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"opt_out\",\n        \"displayName\": \"Opt out of ad delivery optimization (opt_out)\",\n        \"selectItems\": [\n          {\n            \"value\": true,\n            \"displayValue\": \"Yes\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"A flag that indicates this event should not be used for ads delivery optimization. If set to Yes, Facebook will only use the event for attribution.\",\n        \"notSetText\": \"Not set (equals to \\\"No\\\")\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"order_id\",\n        \"displayName\": \"Order ID (order_id)\",\n        \"simpleValueType\": true,\n        \"help\": \"The order ID for this transaction. This is used for event deduplication, not for reporting.\\u003cbr\\u003e\\u003cbr\\u003eExample: \\u0027order1234\\u0027.\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"event_id\",\n        \"displayName\": \"Event ID (event_id)\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"autogenerate\",\n            \"displayValue\": \"Autogenerate the event ID\"\n          },\n          {\n            \"value\": \"setOwn\",\n            \"displayValue\": \"Set my own event ID\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"notSetText\": \"Don\\u0027t send an event ID\",\n        \"help\": \"This ID can be any unique string chosen by the advertiser. event_id is used to deduplicate events sent by both Facebook Pixel and Conversions API.\\u003cbr\\u003e\\u003cbr\\u003eChoose \\\"Autogenerate\\\" to make this tag create the event ID for you and assign it to both the pixel event and Conversions API event, in case you send the event via both methods.\\u003cbr\\u003e\\u003cbr\\u003eIf for any reason you need the flexibility to specify the event ID yourself, choose \\\"Set my own event ID\\\".\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"ownEventId\",\n            \"displayName\": \"Your event ID\",\n            \"simpleValueType\": true,\n            \"notSetText\": \"Please, enter an event ID\",\n            \"enablingConditions\": [\n              {\n                \"paramName\": \"event_id\",\n                \"paramValue\": \"setOwn\",\n                \"type\": \"EQUALS\"\n              }\n            ],\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\",\n                \"errorMessage\": \"Please, enter an event ID\"\n              }\n            ]\n          }\n        ],\n        \"defaultValue\": \"autogenerate\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"delivery_category\",\n        \"displayName\": \"Delivery category (delivery_category)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": \"in_store\",\n            \"displayValue\": \"in_store\"\n          },\n          {\n            \"value\": \"curbside\",\n            \"displayValue\": \"curbside\"\n          },\n          {\n            \"value\": \"home_delivery\",\n            \"displayValue\": \"home_delivery\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Type of delivery for a purchase event. Supported values are:\\u003cul\\u003e\\u003cli\\u003ein_store: Customer needs to enter the store to get the purchased product.\\u003c/li\\u003e\\u003cli\\u003ecurbside: Customer picks up their order by driving to a store and waiting inside their vehicle.\\u003c/li\\u003e\\u003cli\\u003ehome_delivery: Purchase is delivered to the customer\\u0027s home.\\u003c/li\\u003e\\u003c/ul\\u003e\",\n        \"notSetText\": \"Not set\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"action_source\",\n        \"displayName\": \"Action source (action_source)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": \"email\",\n            \"displayValue\": \"email\"\n          },\n          {\n            \"value\": \"website\",\n            \"displayValue\": \"website\"\n          },\n          {\n            \"value\": \"app\",\n            \"displayValue\": \"app\"\n          },\n          {\n            \"value\": \"phone_call\",\n            \"displayValue\": \"phone_call\"\n          },\n          {\n            \"value\": \"chat\",\n            \"displayValue\": \"chat\"\n          },\n          {\n            \"value\": \"physical_store\",\n            \"displayValue\": \"physical_store\"\n          },\n          {\n            \"value\": \"system_generated\",\n            \"displayValue\": \"system_generated\"\n          },\n          {\n            \"value\": \"other\",\n            \"displayValue\": \"other\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"This field allows you to specify where your conversions occurred. Knowing where your events took place helps ensure your ads go to the right people. The values you can send are as follows:\\n\\u003cul\\u003e\\n\\u003cli\\u003eemail: Conversion happened over email.\\u003c/li\\u003e\\n\\u003cli\\u003ewebsite: Conversion was made on your website.\\u003c/li\\u003e\\n\\u003cli\\u003eapp: Conversion was made using your app.\\u003c/li\\u003e\\n\\u003cli\\u003ephone_call: Conversion was made over the phone.\\u003c/li\\u003e\\n\\u003cli\\u003echat: Conversion was made via a messaging app, SMS, or online messaging feature.\\u003c/li\\u003e\\n\\u003cli\\u003ephysical_store: Conversion was made in person at your physical store.\\u003c/li\\u003e\\n\\u003cli\\u003esystem_generated: Conversion happened automatically, for example, a subscription renewal that√¢‚Ç¨‚Ñ¢s set on auto-pay each month.\\u003c/li\\u003e\\n\\u003cli\\u003eother: Conversion happened in a way that is not listed.\\u003c/li\\u003e\\n\\u003c/ul\\u003e\\u003cbr\\u003e\\u003cb\\u003eAll events sent through Conversions API must be sent with an action source parameter.\\u003c/b\\u003e\",\n        \"defaultValue\": \"website\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"subscription_id\",\n        \"displayName\": \"Subscription ID (subscription_id)\",\n        \"simpleValueType\": true,\n        \"help\": \"The subscription ID for the user in this transaction. This is similar to the order ID for an individual product.\\u003cbr\\u003e\\u003cbr\\u003eExample: anid1234.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"fb_login_id\",\n        \"displayName\": \"Facebook login ID (fb_login_id)\",\n        \"simpleValueType\": true,\n        \"help\": \"ID issued by Facebook when a person first logs into an instance of an app. This is also known as App-Scoped ID.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"lead_id\",\n        \"displayName\": \"Lead ID (lead_id)\",\n        \"simpleValueType\": true,\n        \"help\": \"ID associated with a lead generated by Facebook\\u0027s Lead Ads.\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"fireMethod\",\n        \"paramValue\": \"onlyCapi\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"fireMethod\",\n        \"paramValue\": \"both\",\n        \"type\": \"EQUALS\"\n      }\n    ],\n    \"help\": \"Parameters to send for Conversions API events. All fields are optional.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"pixelSetup\",\n    \"displayName\": \"Pixel setup\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"disablePushState\",\n        \"checkboxText\": \"Disable firing PageView on history.pushState()\",\n        \"simpleValueType\": true,\n        \"defaultValue\": false,\n        \"help\": \"By default Facebook Pixel activates the HTML5 History State API listener. This means that each time a new state appears in the history, such as history.pushState, Facebook Pixel fires a PageView event. If you do not want this default behaviour, you can turn it off by checking this box. The Facebook pixel will stop sending PageView events on history state change.\"\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"fireMethod\",\n        \"paramValue\": \"onlyPixel\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"fireMethod\",\n        \"paramValue\": \"both\",\n        \"type\": \"EQUALS\"\n      }\n    ],\n    \"help\": \"Optional configuration options for events sent through Facebook pixel.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"dataSharingOptions\",\n    \"displayName\": \"Data sharing options\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"consentMode\",\n        \"displayName\": \"Cookie consent management\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": \"revoke\",\n            \"displayValue\": \"Revoke consent before initializing pixel \\u0026 firing this event\"\n          },\n          {\n            \"value\": \"grant\",\n            \"displayValue\": \"Grant consent before initializing pixel \\u0026 firing this event\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"Use the following options to pause/unpause sending pixel events to Facebook. This mechanism is intented for GDPR compliance, so sites can stop the sending if events (revoke consent) until consent is granted by the user (grant consent). You need to call revoke on every page. Learn more \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/implementation/gdpr/\\\"\\u003ehere\\u003c/a\\u003e.\",\n        \"notSetText\": \"Not set\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"disableAutomaticConfiguration\",\n        \"checkboxText\": \"Disable automatic configuration\",\n        \"simpleValueType\": true,\n        \"help\": \"The Facebook pixel will send button click and page metadata (such as data structured according to Opengraph or Schema.org formats) from your website to improve your ads delivery and measurement and automate your pixel setup. Check this box to configure the Facebook Pixel to not send this additional information. Learn more about Automatic Configuration \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/advanced#automatic-configuration\\\"\\u003ehere\\u003c/a\\u003e.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"onlyPixel\",\n            \"type\": \"EQUALS\"\n          },\n          {\n            \"paramName\": \"fireMethod\",\n            \"paramValue\": \"both\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"data_processing_options\",\n        \"displayName\": \"Data processing options (data_processing_options)\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": \"LDU\",\n            \"displayValue\": \"LDU\"\n          },\n          {\n            \"value\": \"emptyArray\",\n            \"displayValue\": \"Empty array (explicitly tell to don\\u0027t process with LDU restrictions)\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"notSetText\": \"Not set\",\n        \"subParams\": [],\n        \"help\": \"Current accepted value is LDU for Limited Data Use. An empty array can be sent to explicitly specify that this event shouldn\\u0027t be processed with the Limited Data Use restrictions. Learn more about \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-apis/data-processing-options\\\"\\u003eData Processing options\\u003c/a\\u003e.\"\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"data_processing_options_country\",\n        \"displayName\": \"Data processing options country (data_processing_options_country)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": 0,\n            \"displayValue\": \"0 (geolocate this event)\"\n          },\n          {\n            \"value\": 1,\n            \"displayValue\": \"1 (United States of America)\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"A country that you want to associate to this data processing option. Current accepted values are 1, for the United States of America, or 0, to request that we geolocate that event. \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-apis/data-processing-options\\\"\\u003eLearn more about Data Processing options\\u003c/a\\u003e.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"data_processing_options\",\n            \"paramValue\": \"LDU\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"data_processing_options_state\",\n        \"displayName\": \"Data processing options state (data_processing_options_state)\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": 0,\n            \"displayValue\": \"0 (geolocate this event)\"\n          },\n          {\n            \"value\": 1000,\n            \"displayValue\": \"1000 (California)\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"A state that you want to associate to this data processing option. Current accepted values are 1000, for California, or 0, to request that we geolocate that event.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"data_processing_options\",\n            \"paramValue\": \"LDU\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      }\n    ],\n    \"help\": \"Data sharing and processing options you would like to enable for this event. All fields are optional.\"\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nif (!data.event_name) {\n  data.gtmOnSuccess();\n  return;\n}\n\nconst log = require('logToConsole');\nconst copyFromWindow = require('copyFromWindow');\nconst getType = require('getType');\nconst injectScript = require('injectScript');\nconst getCookieValues = require('getCookieValues');\nconst setCookie = require('setCookie');\nconst getTimestampMillis = require('getTimestampMillis');\nconst callInWindow = require('callInWindow');\nconst setInWindow = require('setInWindow');\nconst getQueryParameters = require('getQueryParameters');\nconst getReferrerUrl = require('getReferrerUrl');\nconst fromBase64 = require('fromBase64');\nconst createArgumentsQueue = require('createArgumentsQueue');\nconst Object = require('Object');\nconst JSON = require('JSON');\nconst templateStorage = require('templateStorage');\nconst getUrl = require('getUrl');\nconst callLater = require('callLater');\nconst generateRandom = require('generateRandom');\nconst localStorage = require('localStorage');\nconst templateVersion = 7.7;\n\nconst event_id = getTimestampMillis().toString();\nlet providersToRun = countConfiguredProviders();\nlet executedProviders = 0;\n\n// fix wrong data inputs\nif (getType(data.content_ids) === \"string\") {\n  data.content_ids = [data.content_ids];\n}\n\nfunction removeEntriesWithEmptyPixelId(array) {\n  var newArray = [];\n  for (var i = 0; i < array.length; i++) {\n    if (array[i].pixelId !== \"\") {\n      newArray.push(array[i]);\n    }\n  }\n  if (newArray.length > 0) {\n    return newArray;\n  }\n  return undefined;\n}\n\nfunction storeUTMs() {\n  const key = \"utms-store\";\n  const url = getUrl();\n\n  if (templateStorage.getItem(key) || url.indexOf(\"utm_\") === -1) {\n    return;\n  }\n\n  let utms = {\n    utm_source: getQueryParameters('utm_source', false),\n    utm_campaign: getQueryParameters('utm_campaign', false),\n    utm_medium: getQueryParameters('utm_medium', false),\n    utm_term: getQueryParameters('utm_term', false),\n    utm_content: getQueryParameters('utm_content', false),\n    utm_id: getQueryParameters('utm_id', false),\n  };\n\n  templateStorage.setItem(key, utms);\n}\n\nfunction getStoredUTMs() {\n  return templateStorage.getItem(\"utms-store\");\n}\n\nfunction setOrGetFbpCookie() {\n  if (getCookieValues(\"_fbp\").length > 0) {\n    return getCookieValues(\"_fbp\")[0];\n  }\n  // If there's no fbp cookie, we build it\n  // See https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc#fbp\n  const cookieValue = \"fb.1.\" + getTimestampMillis() + \".\" + generateRandom(1000000000, 9999999999);\n  setCookie(\"_fbp\", cookieValue, { domain: \"auto\", \"max-age\": 7776000, path: \"/\" }); // sets the cookie so we have the same value in the future\n  return cookieValue;\n}\n\nfunction onFire () {\n\n  storeUTMs();\n\n  if (data.pixels) {\n    data.pixels = removeEntriesWithEmptyPixelId(data.pixels);\n  }\n  if (data.tiktok_pixels) {\n    data.tiktok_pixels = removeEntriesWithEmptyPixelId(data.tiktok_pixels);\n  }\n  if (data.google_pixels) {\n    data.google_pixels = removeEntriesWithEmptyPixelId(data.google_pixels);\n  }\n  if (data.pinterest_pixels) {\n    data.pinterest_pixels = removeEntriesWithEmptyPixelId(data.pinterest_pixels);\n  }\n  if (data.linkedin_pixels) {\n    data.linkedin_pixels = removeEntriesWithEmptyPixelId(data.linkedin_pixels);\n  }\n  if (data.snapchat_pixels) {\n    data.snapchat_pixels = removeEntriesWithEmptyPixelId(data.snapchat_pixels);\n  }\n  if (data.postback_pixels) {\n    data.postback_pixels = removeEntriesWithEmptyPixelId(data.postback_pixels);\n  }\n  if (data.quora_pixels) {\n    data.quora_pixels = removeEntriesWithEmptyPixelId(data.quora_pixels);\n  }\n  if (data.microsoft_pixels) {\n    data.microsoft_pixels = removeEntriesWithEmptyPixelId(data.microsoft_pixels);\n  }\n  if (data.spotify_pixels) {\n    data.spotify_pixels = removeEntriesWithEmptyPixelId(data.spotify_pixels);\n  }\n\n  if (data.fireMethod === 'onlyPixel' || data.fireMethod === 'both') {\n    if (data.pixels) {\n      setOrGetFbpCookie();\n      firePixelEvent();\n    }\n\n    if (data.tiktok_pixels) {\n      fireTikTokPixel();\n    }\n\n    if (data.google_pixels) {\n      fireGooglePixel();\n    }\n    if (data.pinterest_pixels) {\n      firePinterestPixel();\n    }\n    if (data.linkedin_pixels) {\n      fireLinkedinPixel();\n    }\n    if (data.snapchat_pixels) {\n      fireSnapchatPixel();\n    }\n    if (data.quora_pixels) {\n      fireQuoraPixel();\n    }\n    if (data.microsoft_pixels) {\n      fireMicrosoftPixel();\n    }\n    if (data.spotify_pixels) {\n      fireSpotifyPixel();\n    }\n  }\n\n  // get the current list before fireCapiEvent adds a new entry\n  const pendingRequests = getPendingRequests();\n\n  if (data.fireMethod === 'onlyCapi' || data.fireMethod === 'both') {\n    const userForgotOwnServerUrl = data.serverSetup === \"ownServer\" && !data.serverGtmUrl;\n    const userForgotSTApiKey = data.serverSetup === \"serverlessTracking\" && !data.stApiKey;\n\n    if (userForgotOwnServerUrl || userForgotSTApiKey) {\n      data.gtmOnSuccess();\n      return;\n    }\n\n    // linked in needs sha256 when there is no generated email, to hash a fake one\n    if (data.hashData || (data.linkedin_pixels && !data.em)) {\n      injectScript('https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js', fireCapiEvent, fireCapiEvent, 'jsSHA');\n    } else {\n      fireCapiEvent();\n    }\n  }\n\n  processPendingRequests(pendingRequests);\n}\n\nif (data.useEcommerceData || data.tiktok_pixels) {\n  injectSDK(onFire);\n} else {\n  onFire();\n}\n\nfunction countConfiguredProviders () {\n  let count = 0;\n\n  if (data.fireMethod === 'onlyPixel' || data.fireMethod === 'both') {\n    if (data.pixels) {\n      count++;\n    }\n\n    if (data.tiktok_pixels) {\n      count++;\n    }\n\n    if (data.google_pixels) {\n      count++;\n    }\n    if (data.pinterest_pixels) {\n      count++;\n    }\n    if (data.linkedin_pixels) {\n      count++;\n    }\n    if (data.snapchat_pixels) {\n      count++;\n    }\n    if (data.ga4_pixels) {\n      count++;\n    }\n    if (data.spotify_pixels) {\n      count++;\n    }\n  }\n\n  if (data.fireMethod === 'onlyCapi' || data.fireMethod === 'both') {\n    count++;\n  }\n\n  return count;\n}\n\nfunction triggerSuccess () {\n  executedProviders++;\n\n  if (executedProviders === providersToRun) {\n    data.gtmOnSuccess();\n  }\n}\n\n// https://www.facebook.com/business/help/402791146561655?id=1205376682832142\n// https://ads.tiktok.com/gateway/docs/index?identify_key=2b9b4278e47b275f36e7c39a4af4ba067d088e031d5f5fe45d381559ac89ba48&language=ENGLISH&doc_id=1701890973258754#item-link-What%20are%20event%20codes?\nfunction getEventName (pixelType) {\n  let eventName = data.event_name !== 'customEvent' ? data.event_name : data.customEventName;\n  const nameConventions = {\n    tiktok: {\n      \"PageView\": \"Pageview\"\n    },\n    facebook: {\n      \"CompletePayment\": \"Purchase\",\n      \"PlaceAnOrder\": \"Purchase\"\n    },\n    pinterest: {\n      \"ViewContent\": \"pagevisit\", // ViewContent doesnt exist for pint\n      \"Purchase\": \"checkout\",\n      \"AddToCart\": \"addtocart\", // fb\n      \"PageView\": \"pagevisit\", // fb\n      \"Lead\": \"lead\", // fb\n      \"Search\": \"search\", // fb\n      \"SubmitApplication\": \"lead\", // fb\n    },\n    snapchat: {\n      \"PageView\": \"PAGE_VIEW\",\n      \"AddToCart\": \"ADD_CART\",\n      \"Purchase\": \"PURCHASE\",\n      \"InitiateCheckout\": \"START_CHECKOUT\",\n      \"AddToWishlist\": \"ADD_TO_WISHLIST\",\n      \"Search\": \"SEARCH\",\n      \"StartTrial\": \"START_TRIAL\",\n      \"Subscribe\": \"SUBSCRIBE\",\n      \"ViewContent\": \"VIEW_CONTENT\",\n      \"CompleteRegistration\": \"SIGN_UP\",\n      \"AddPaymentInfo\": \"ADD_BILLING\",\n    },\n    quora: {\n      \"Lead\": \"GenerateLead\"\n    },\n    spotify: {\n      \"AddToCart\": \"addtocart\",\n      \"Lead\": \"lead\",\n      \"Purchase\": \"purchase\",\n      \"SubmitForm\": \"lead\",\n      \"CompleteRegistration\": \"signup\",\n      \"ViewContent\": \"product\",\n      \"InitiateCheckout\": \"checkout\",\n    }\n  };\n\n  if (data.customProperties) {\n    for (const property of data.customProperties) {\n      if (property.propertyName === \"event_name\" && (property.provider === pixelType || property.provider === 'all')) {\n        return property.propertyValue;\n      }\n    }\n  }\n\n  if (getType(nameConventions[pixelType]) === \"undefined\" ||\n    getType(nameConventions[pixelType][eventName]) === \"undefined\"\n  ) {\n    return eventName;\n  }\n\n  return nameConventions[pixelType][eventName];\n}\n\nfunction translateFields (customData, ecommerce, fields) {\n  for(const fieldName of Object.keys(fields)) {\n    const translatedField = fields[fieldName];\n\n    if (getType(ecommerce[fieldName]) !== \"undefined\") {\n      customData[translatedField] = ecommerce[fieldName];\n    }\n  }\n  return customData;\n}\n\nfunction getEcommerceData () {\n  const makeNumber = require('makeNumber');\n  let ecommerce = {};\n  let customData = {};\n  const dataLayer = callInWindow('adsmuraiSDK.getFromWindow', \"dataLayer\");\n\n  if (!dataLayer || getType(dataLayer) !== \"array\") {\n    return customData;\n  }\n\n  for (const event of dataLayer) {\n    if (getType(event) !== \"object\") {\n      continue;\n    }\n\n    if (getType(event.item_name) !== \"undefined\") {\n      ecommerce = event;\n      customData.num_items = 1;\n      customData.content_type = 'product';\n      customData = translateFields(customData, ecommerce, {\n        currency: \"currency\",\n        item_name: \"content_name\",\n        price: \"value\",\n        item_category: \"content_category\",\n      });\n      if (getType(ecommerce.item_id) !== \"undefined\") {\n        customData.content_ids = [ecommerce.item_id];\n        customData.contents = [\n          translateFields({}, ecommerce, {\n            item_id: \"id\",\n            price: \"item_price\",\n          })\n        ];\n      }\n      break;\n    } else if (getType(event[2]) === \"object\" && getType(event[2].items) === \"array\") {\n      ecommerce = event[2];\n      customData.num_items = ecommerce.items.length;\n      customData.content_type = ecommerce.items.length > 1 ? 'product_group' : 'product';\n\n      if (ecommerce.items.length === 1 && getType(ecommerce.items[0].item_name) !== \"undefined\") {\n        customData.content_name = ecommerce.items[0].item_name;\n      }\n\n      customData = translateFields(customData, ecommerce, {\n        currency: \"currency\",\n        value: \"value\",\n      });\n      customData.content_ids = [];\n      customData.contents = [];\n      let price = 0;\n      for (const item of ecommerce.items) {\n        const id = getType(item.id) !== \"undefined\" ? item.id : item.item_id;\n        customData.content_ids.push(id);\n        const summary = translateFields({\n          id: id\n        }, item, {\n          price: \"item_price\",\n          quantity: \"quantity\",\n        });\n        customData.contents.push(summary);\n        if (summary.item_price) {\n          price += makeNumber(summary.item_price);\n        }\n      }\n\n      if (!customData.value && price > 0) {\n        customData.value = price;\n      }\n\n      if (customData.num_items > 0 && getType(customData.currency) === \"undefined\" && getType(ecommerce.items[0].currency) !== \"undefined\") {\n        customData.currency = ecommerce.items[0].currency;\n      }\n      if (customData.num_items === 1 && getType(ecommerce.items[0].item_name) !== \"undefined\") {\n        customData.content_name = ecommerce.items[0].item_name;\n      }\n      break;\n    } else if (getType(event.ecommerce) === \"object\" && (getType(event.ecommerce.detail) === \"object\" || getType(event.ecommerce.items) === \"array\" )) {\n      ecommerce = getType(event.ecommerce.detail) === \"object\" ? event.ecommerce.detail.products : event.ecommerce.items;\n      customData.num_items = ecommerce.length;\n      customData.content_type = ecommerce.length > 1 ? 'product_group' : 'product';\n      customData.content_ids = [];\n      customData.contents = [];\n      let price = 0;\n      for (const item of ecommerce) {\n        const itemId = item.id ? item.id : item.item_id;\n        customData.content_ids.push(itemId);\n        const summary = translateFields({\n          id: itemId\n        }, item, {\n          price: \"item_price\",\n          quantity: \"quantity\",\n        });\n        customData.contents.push(summary);\n\n        if (summary.item_price) {\n          price += makeNumber(summary.item_price);\n        }\n      }\n\n      if (event.ecommerce.value) {\n        customData.value = event.ecommerce.value;\n      }\n      if (!customData.value && price > 0) {\n        customData.value = price;\n      }\n      if (event.ecommerce.currency) {\n        customData.currency = event.ecommerce.currency;\n      }\n      if (customData.num_items > 0 && getType(customData.currency) === \"undefined\" && getType(ecommerce[0].currency) !== \"undefined\") {\n        customData.currency = ecommerce[0].currency;\n      }\n      if (customData.num_items === 1 && getType(ecommerce[0].name) !== \"undefined\") {\n        customData.content_name = ecommerce[0].name;\n      }\n      break;\n    }\n  }\n\n  if (customData.value && !customData.price) {\n    customData.price = customData.value;\n  }\n\n  return customData;\n}\n\n\nfunction getPixelEventParameters(pixelType) {\n  let eventParameters;\n\n\tswitch (pixelType) {\n\t\tcase \"tiktok\":\n      eventParameters = getCustomData(['content_name', 'content_category', 'content_type', 'content_ids', 'contents', 'value',\n        'currency', 'num_items', 'search_string', 'status', 'predicted_ltv', 'customProperties'], pixelType);\n\t\t\teventParameters = setupTiktokEventData(eventParameters);\n\t\t\tbreak;\n    case \"fb\": // must be fb to match the pixelType\n      eventParameters = getCustomData(['content_name', 'content_category', 'content_type', 'content_ids', 'contents', 'value',\n        'currency', 'num_items', 'search_string', 'status', 'predicted_ltv', 'customProperties', 'order_id'], pixelType);\n      eventParameters = setupFacebookEventData(eventParameters);\n      break;\n    case \"linkedin\":\n      eventParameters = setupLinkedinEventData();\n      break;\n    case \"snapchat\":\n      eventParameters = setupSnapchatEventData();\n      break;\n    case \"pinterest\":\n      eventParameters = setupPinterestEventData();\n      break;\n    case \"microsoftads\":\n      eventParameters = setupMicrosoftEventData();\n      break;\n    case \"spotify\":\n      eventParameters = getCustomData([\n          'type', 'category', 'currency', 'value', 'quantity', 'product_id', 'product_name',\n          'product_type', 'product_vendor', 'variant_id', 'variant_name'\n      ], pixelType);\n      break;\n    case \"quora\":\n    default:\n      eventParameters = {};\n      break;\n\t}\n\n\treturn eventParameters;\n}\n\nfunction hashIfNeeded(val) {\n  return data.hashData ? hash(val) : val;\n}\n\nfunction hash(valueToHash) {\n  const makeString = require('makeString');\n\n  const sha256 = copyFromWindow('sha256');\n\n  if (!sha256) return valueToHash;\n\n  switch (getType(valueToHash)) {\n    case 'undefined':\n    case 'null':\n    case 'object':\n    case 'function':\n    case 'boolean':\n      return valueToHash;\n    case 'string':\n      return sha256(valueToHash.toLowerCase().trim());\n    case 'number':\n      return sha256(makeString(valueToHash));\n    case 'array':\n      return valueToHash.map(value => hash(value));\n    default:\n      return sha256(valueToHash);\n  }\n}\n\n// https://help.ads.microsoft.com/#apex/ads/en/56955/1-500\nfunction setupMicrosoftEventData() {\n  const readTitle = require('readTitle');\n  const platformSpecs = callInWindow('adsmuraiSDK.getPlatformSpecs');\n\n  function getContentIds() {\n    if (data.content_ids) {\n      if (getType(data.content_ids) === 'array') {\n        return data.content_ids.join(\",\");\n      } else {\n        return data.content_ids;\n      }\n    }\n    return \"\";\n  }\n\n  function items() {\n    let result = \"\";\n    if (data.contents && getType(data.contents) === 'array') {\n      data.contents.forEach((product, i) => {\n        var item = {\n          content_id: product.id ? product.id : product.content_id,\n          price: product.item_price ? product.item_price : product.price,\n        };\n        result += \"id=\" + item.content_id + 'quantity=' + product.quantity + 'price=' + item.price;\n        if (i < data.contents.length - 1) {\n          result += ',';\n        }\n      });\n    }\n    return result;\n  }\n\n  let params = {};\n  params.rn = generateRandom(100000, 999999);\n  params.ver = '2.3';\n  params.p = getUrl();\n  params.r = getReferrerUrl();\n  params.tl = readTitle();\n  params.pagetype = \"other\";\n  params.items = items();\n  params.prodid = getContentIds();\n  params.search_term = data.search_string;\n  params.transaction_id = data.order_id;\n  params.lg = \"en\";\n  params.sw = platformSpecs.screen.width;\n  params.sh = platformSpecs.screen.height;\n  params.sc = \"\";\n  params.spa = \"N\";\n  params.msclkid = setOrGetMsClickCookie();\n  params.uid = setOrGetMicrosoftCookie('_uetuid', 7776000);\n  params.sid = setOrGetMicrosoftCookie('_uetsid', 86400);\n  params.vid = setOrGetMicrosoftCookie('_uetvid', 33696000);\n  params.page_path = \"\";\n  params.gc = data.currency;\n  params.gv = data.value;\n\n  if (data.em || data.ph) {\n    params.pid = \"\";\n    if (data.em) {\n      params.pid += \"em=\" + hashIfNeeded(data.em);\n    }\n    if (data.ph) {\n      params.pid += (params.pid.length > 0 ? '&' : '') + \"ph=\" + hashIfNeeded(phoneToE164(data.ph));\n    }\n  }\n\n  return params;\n}\n\nfunction setupPinterestEventData() {\n  let eventData = getCustomData(['value', 'currency', 'order_id', 'line_items', 'content_category'], \"pinterest\");\n\n  eventData = translateFields(eventData, data, {\n    search_string: \"search_query\",\n    num_items: \"order_quantity\",\n  });\n\n  if (!eventData.line_items) {\n    if (getType(data.contents) !== \"undefined\") {\n      let products = [];\n\n      data.contents.forEach((product) => {\n        products.push({\n          product_id: product.id,\n          product_price: product.item_price,\n          product_quantity: product.quantity,\n          product_category: product.category,\n        });\n      });\n      eventData.line_items = products;\n    } else if (getType(data.content_ids) !== \"undefined\") {\n      let products = [];\n\n      data.content_ids.forEach((productId, i) => {\n        const item = {\n          product_id: productId,\n        };\n        if (data.content_category) {\n          item.product_category = data.content_category;\n        } else if (eventData.content_category) {\n          item.product_category = eventData.content_category;\n        }\n\n        if (item.product_category &&\n          item.product_category.indexOf(\",\") !== -1 &&\n          item.product_category.split(\",\").length === data.content_ids.length\n        ) {\n          item.product_category = item.product_category.split(\",\")[i];\n        }\n\n        products.push(item);\n      });\n      eventData.line_items = products;\n    }\n  }\n\n  return eventData;\n}\n\nfunction setupLinkedinEventData() {\n  const options = {\n    tmsource: 'gtmv2',\n    conversion_url: getUrl()\n  };\n  return options;\n}\n\nfunction setupSnapchatEventData() {\n  const customData = getCustomData(['customProperties'], \"snapchat\");\n  const fullData = JSON.parse(JSON.stringify(data));\n  for(const fieldName of Object.keys(customData)) {\n    fullData[fieldName] = customData[fieldName];\n  }\n\n  let eventData = translateFields({}, fullData, {\n    value: \"price\",\n    currency: \"currency\",\n    content_ids: \"item_ids\",\n    content_category: \"item_category\",\n    search_string: \"search_string\",\n    num_items: \"number_items\",\n    order_id: \"transaction_id\",\n  });\n\n  return eventData;\n}\n\nfunction setupTiktokEventData(rawEvent) {\n\tif (getType(data.contents) !== \"undefined\") {\n\t\tlet products = [];\n\n\t\tdata.contents.forEach((product) => {\n\t\t\tproducts.push({\n\t\t\t\tcontent_id: product.id ? product.id : product.content_id,\n\t\t\t\tprice: product.item_price ? product.item_price : product.price,\n\t\t\t\tquantity: product.quantity,\n\t\t\t\tcontent_type: product.content_type ? product.content_type : rawEvent.content_type,\n\t\t\t});\n\t\t});\n\t\trawEvent.contents = products;\n\t}\n\treturn rawEvent;\n}\nfunction setupFacebookEventData(rawEvent) {\n  if (getType(data.contents) !== \"undefined\") {\n    let products = [];\n\n    data.contents.forEach((product) => {\n      products.push({\n        id: product.id,\n        item_price: product.item_price,\n        quantity: product.quantity,\n        delivery_category: product.delivery_category,\n      });\n    });\n    rawEvent.contents = products;\n  }\n  return rawEvent;\n}\n\nfunction injectSDK (callback) {\n  if (getType(copyFromWindow('adsmuraiSDK.post')) !== 'undefined') {\n    return callback();\n  }\n  const adsmuraiSDKScriptUrl = 'https://cdn-st.adsmurai.com/sdk.js?tv=' + templateVersion;\n  injectScript(\n    adsmuraiSDKScriptUrl,\n    callback,\n    data.gtmOnFailure,\n    adsmuraiSDKScriptUrl\n  );\n}\n\nfunction fireGooglePixel () {\n\n  injectSDK(() => {\n    data.google_pixels.forEach(pixel => {\n      // event', 'conversion', {send_to: \"<conversion_id>/<conversion_label>, value: 1.0, currency: \"USD\", transaction_id: 1234\n      callInWindow('adsmuraiSDK.pushEvent', 'event', 'conversion', {\n        'send_to': pixel.pixelId,\n        value: data.value,\n        currency: data.currency,\n        transaction_id: data.order_id\n      });\n    });\n\n\n    triggerSuccess();\n  });\n}\n\nfunction fireMicrosoftPixel () {\n\n  if (data.fireMethod === 'both') { // microsoft ads deduplication is superbad\n    triggerSuccess();\n    return;\n  }\n\n  function afterInjection () {\n    const sendPixel = require('sendPixel');\n    const encodeUriComponent = require('encodeUriComponent');\n    let eventName = getEventName(\"microsoftads\");\n\n    // Add event_id in case it's set up\n    const event = getPixelEventParameters(\"microsoftads\");\n    event.mid = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n    event.evt = eventName === 'PageView' ? 'pageLoad' : 'custom';\n    if(eventName !== 'PageView') {\n      event.ea = eventName;\n    }\n\n    data.microsoft_pixels.forEach((pixel, i) => {\n      event.ti = pixel.pixelId;\n      let url = 'https://bat.bing.com/action/0?';\n      let all_params = \"\";\n      if(event){\n        for (var key in event){\n          if (event[key] == undefined || event[key] == null) {\n            continue;\n          }\n          all_params += key + \"=\" + encodeUriComponent(event[key]) + \"&\";\n        }\n        url += all_params;\n      }\n\n      sendPixel(url);\n    });\n    triggerSuccess();\n  }\n  injectSDK(afterInjection);\n}\n\nfunction fireQuoraPixel () {\n\n  function isQuoraLoaded() {\n    return copyFromWindow('qp');\n  }\n  function getQp() {\n    const createQueue = require('createQueue');\n\n    let qp = copyFromWindow('qp');\n\n    if (qp) return qp;\n\n    setInWindow('qp', function () {\n      if (copyFromWindow('qp.qp')) {\n        callInWindow('qp.qp.apply', qp, arguments);\n      } else {\n        callInWindow('qp.queue.push', arguments);\n      }\n    });\n\n    createQueue('qp.queue');\n\n    return copyFromWindow('qp');\n  }\n\n  function getAdvancedMatchingData () {\n    return translateFields({}, data, {\n      'em' : \"email\",\n    });\n  }\n\n  const isLoaded = isQuoraLoaded();\n  const qp = getQp();\n  function handlePixelSuccessfullyFired() {\n    let eventName = getEventName(\"quora\");\n    if ([\"Generic\", \"AppInstall\", \"Purchase\", \"GenerateLead\", \"CompleteRegistration\", \"AddPaymentInfo\", \"AddToCart\", \"AddToWishlist\", \"InitiateCheckout\", \"Search\"].indexOf(eventName) === -1) {\n      eventName = \"Generic\";\n    }\n\n    // Add event_id in case it's set up\n    const event = getPixelEventParameters(\"quora\");\n    if (data.event_id) {\n      event.event_id = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n    } else {\n      event.event_id = event_id;\n    }\n\n    const matchingData = getAdvancedMatchingData();\n\n    data.quora_pixels.forEach((pixel, i) => {\n      qp('init', pixel.pixelId.split(\"|\")[1], matchingData);\n      qp('track', eventName, event);\n    });\n    triggerSuccess();\n  }\n\n  if (isLoaded) {\n    handlePixelSuccessfullyFired();\n  } else {\n    injectProviderSDK(\"https://a.quora.com/qevents.js\", \"quora-sdk\", handlePixelSuccessfullyFired);\n  }\n}\n\nfunction fireSnapchatPixel () {\n  const isLoaded = isSnapchatLoaded(); // must be fired before getSnaptr\n  const snaptr = getSnaptr();\n\n  // https://businesshelp.snapchat.com/s/article/pixel-direct-implementation?language=en_US\n  function getAdvancedMatchingData () {\n    return translateFields({}, data, {\n      'em' : \"user_hashed_email\",\n      'ph' : \"user_hashed_phone_number\",\n      'fn' : \"firstname\",\n      'ln' : \"lastname\",\n      'ct' : \"geo_city\",\n      'zp' : \"geo_postal_code\",\n      'country' : \"geo_country\",\n    });\n  }\n\n  function handlePixelSuccessfullyFired() {\n    const eventName = getEventName(\"snapchat\");\n\n    // Add event_id in case it's set up\n    const event = getPixelEventParameters(\"snapchat\");\n    if (data.event_id) {\n      event.client_dedup_id = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n    } else {\n      event.client_dedup_id = event_id;\n    }\n    const matchingData = getAdvancedMatchingData();\n\n    data.snapchat_pixels.forEach((pixel, i) => {\n      const pixelKey = pixel.pixelId + \"-snapchat\";\n      // Initialize each ID if not done already\n      const alreadyLoaded = templateStorage.getItem(pixelKey) || (snaptr && snaptr.context && snaptr.context.config && snaptr.context.config[pixel.pixelId]);\n\n      if (!alreadyLoaded) {\n        // snapchat load is ultra slow, so if this template is fired several times at once, it may say that it's not loaded\n        // on all of them, so we use templateStorage to avoid that\n        templateStorage.setItem(pixelKey, true);\n        snaptr('init', pixel.pixelId, matchingData);\n        snaptr('track', \"PAGE_VIEW\", event);\n\n        // avoid duplicating the event if its just a PAGE_VIEW\n        if (eventName === \"PAGE_VIEW\") {\n          return;\n        }\n      }\n\n      snaptr('track', eventName, event);\n    });\n    triggerSuccess();\n  }\n\n  if (isLoaded) {\n    handlePixelSuccessfullyFired();\n  } else {\n    injectProviderSDK(\"https://sc-static.net/scevent.min.js\", \"snapchat-sdk\", handlePixelSuccessfullyFired);\n  }\n\n  function isSnapchatLoaded() {\n    return copyFromWindow('snaptr');\n  }\n\n  function getSnaptr() {\n    return createArgumentsQueue('snaptr', 'snaptr.queue');\n  }\n}\n\nfunction fireLinkedinPixel () {\n  const createQueue = require('createQueue');\n\n  const isLoaded = isLinkedinLoaded(); // must be fired before getPintrk\n\n  if (getEventName('linkedin') === 'PageView') {\n    const partnersPush = createQueue('_linkedin_data_partner_ids');\n    partnersPush(data.linkedin_pixels[0].pixelId);\n  }\n\n  function handlePixelSuccessfullyFired() {\n    const lintrk = getLintrk();\n\n    data.linkedin_pixels.forEach((pixel, i) => {\n      // Add event_id in case it's set up\n      const event = getPixelEventParameters(\"linkedin\");\n      if (data.event_id) {\n        event.event_id = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n      } else {\n        event.event_id = event_id;\n      }\n      event.conversion_id = pixel.pixelId;\n\n      // for some reason linkedin method blocks the whole tag from completion, so we run it async...\n      callLater(function () {\n        lintrk('track', event);\n      });\n    });\n    triggerSuccess();\n  }\n\n  if (isLoaded) {\n    handlePixelSuccessfullyFired();\n  } else {\n    injectProviderSDK(\"https://snap.licdn.com/li.lms-analytics/insight.min.js\", \"linkedin-sdk\", handlePixelSuccessfullyFired);\n  }\n\n  function isLinkedinLoaded() {\n    return copyFromWindow('lintrk');\n  }\n\n  function getLintrk() {\n    return copyFromWindow('lintrk');\n  }\n}\n\nfunction firePinterestPixel () {\n  const isLoaded = isPinterestLoaded(); // must be fired before getPintrk\n  const pintrk = getPintrk();\n\n  function handlePixelSuccessfullyFired() {\n    const eventName = getEventName(\"pinterest\");\n\n    data.pinterest_pixels.forEach((pixel, i) => {\n      const pixelKey = pixel.pixelId + \"-pinterest\";\n      const tagId = pixel.pixelId.split(\"|\")[0];\n      // Initialize each ID if not done already\n      let alreadyLoaded = false;\n      if (pintrk.queue && getType(pintrk.queue) === 'array') {\n        for (const e of pintrk.queue) {\n          if (getType(e) !== \"array\" || e.length < 2) {\n            continue;\n          }\n          if (e[0] === \"load\" && e[1] === tagId) {\n            alreadyLoaded = true;\n            break;\n          }\n        }\n      }\n      if ((pintrk.tagId && pintrk.tagId === tagId) || templateStorage.getItem(pixelKey)) {\n        alreadyLoaded = true;\n      }\n\n      if (!alreadyLoaded) {\n        templateStorage.setItem(pixelKey, true);\n        pintrk('load', tagId);\n        pintrk('page');\n      }\n\n      // Add event_id in case it's set up\n      const event = getPixelEventParameters(\"pinterest\");\n      if (data.event_id) {\n        event.event_id = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n      } else {\n        event.event_id = event_id;\n      }\n\n      pintrk('track', eventName, event);\n    });\n    triggerSuccess();\n  }\n\n  if (isLoaded) {\n    handlePixelSuccessfullyFired();\n  } else {\n    injectProviderSDK(\"https://s.pinimg.com/ct/core.js\", \"pinterest-sdk\", handlePixelSuccessfullyFired);\n  }\n\n  function isPinterestLoaded() {\n    return copyFromWindow('pintrk');\n  }\n\n  function getPintrk() {\n    return createArgumentsQueue('pintrk', 'pintrk.queue');\n  }\n}\n\nfunction fireSpotifyPixel () {\n\n  const eventName = getEventName(\"spotify\");\n  const spdt = getSpdt();\n\n  function handlePixelSuccessfullyFired() {\n    triggerSuccess();\n\n    const spdt = getSpdt();\n    const initIds = copyFromWindow('_spdt_gtm_ids') || [];\n\n    data.spotify_pixels.forEach((pixel, i) => {\n      // Initialize each ID if not done already\n      if (initIds.indexOf(pixel.pixelId) === -1) {\n        spdt('conf', { key: pixel.pixelId.split(\"|\")[1] });\n        initIds.push(pixel.pixelId);\n        setInWindow('_spdt_gtm_ids', initIds, true);\n      }\n\n      if (data.em || data.ph) {\n        spdt('alias', {\n          email: data.em,\n          phone_number: data.ph && data.ph.indexOf('+') === -1 ? phoneToE164(data.ph) : data.ph,\n        });\n      }\n\n      let eventData = getPixelEventParameters(\"spotify\");\n      eventData.event_id = !data.event_id || data.event_id === 'autogenerate' ? event_id : data.ownEventI;\n      spdt(eventName, eventData);\n    });\n  }\n\n  if (spdt) { // they may already be loading the sdk from elsewhere\n    handlePixelSuccessfullyFired();\n  } else {\n    injectSpotifySDK(function () {\n      handlePixelSuccessfullyFired();\n    });\n  }\n\n  function getSpdt() {\n    return copyFromWindow('spdt');\n  }\n}\n\nfunction injectSpotifySDK (onSuccess, onError) {\n  function handlePixelUnsuccessfullyFired() {\n    if (data.fireMethod === 'onlyPixel') {\n      data.gtmOnFailure();\n    }\n    if (onError) {\n      onError();\n    }\n  }\n\n  injectScript('https://pixel.byspotify.com/ping.min.js',\n      onSuccess,\n      handlePixelUnsuccessfullyFired,\n      'spotifyPixel');\n}\n\nfunction fireTikTokPixel () {\n\n  const eventName = getEventName(\"tiktok\");\n  const ttq = getTtq();\n\n  function handlePixelSuccessfullyFired() {\n    triggerSuccess();\n\n    const ttq = getTtq();\n    const initIds = copyFromWindow('_ttq_gtm_ids') || [];\n\n    data.tiktok_pixels.forEach((pixel, i) => {\n      // Initialize each ID if not done already\n      if (initIds.indexOf(pixel.pixelId) === -1) {\n        ttq.load(pixel.pixelId);\n        initIds.push(pixel.pixelId);\n        setInWindow('_ttq_gtm_ids', initIds, true);\n      }\n\n      if (data.em || data.ph) {\n        ttq.identify({\n          email: data.em,\n          phone_number: data.ph && data.ph.indexOf('+') === -1 ? phoneToE164(data.ph) : data.ph,\n        });\n      }\n\n      // Call the fbq() method with the parameters defined earlier\n      // Add event_id in case it's set up\n\n      if (data.event_id) {\n        ttq.track(eventName, getPixelEventParameters(\"tiktok\"), {\n          event_id: data.event_id === 'autogenerate' ? event_id : data.ownEventId,\n          pixel_code: pixel.pixelId,\n        });\n      } else {\n        ttq.track(eventName, getPixelEventParameters(\"tiktok\"), {\n          event_id: !data.event_id || data.event_id === 'autogenerate' ? event_id : data.ownEventId,\n          pixel_code: pixel.pixelId,\n        });\n      }\n    });\n  }\n\n  if (ttq) { // they may already be loading the sdk from elsewhere\n    handlePixelSuccessfullyFired();\n  } else {\n    injectTiktokSDK(function () {\n      // Tiktok SDK has a race condition where first sent event won't have event_id unless you wait for\n      // events.js to also be loaded. This is the hack.\n      callInWindow('adsmuraiSDK.setTimeout', () => {\n        handlePixelSuccessfullyFired();\n      }, 1000);\n    });\n  }\n\n  function getTtq() {\n    return copyFromWindow('ttq');\n  }\n}\n\nfunction injectTiktokSDK (onSuccess, onError) {\n  function handlePixelUnsuccessfullyFired() {\n    if (data.fireMethod === 'onlyPixel') {\n      data.gtmOnFailure();\n    }\n    if (onError) {\n      onError();\n    }\n  }\n\n  // DO NOT include sdkid query param, or tiktok will automatically fire a Pageview event without event id...\n  injectScript('https://analytics.tiktok.com/i18n/pixel/sdk.js',\n    onSuccess,\n    handlePixelUnsuccessfullyFired,\n    'tiktokPixel');\n}\n\nfunction injectProviderSDK (url, id, onSuccess) {\n  function handlePixelUnsuccessfullyFired() {\n    if (data.fireMethod === 'onlyPixel') {\n      data.gtmOnFailure();\n    }\n  }\n\n  injectScript(url,\n    onSuccess,\n    handlePixelUnsuccessfullyFired,\n    id);\n}\n\nfunction firePixelEvent() {\n  const fbq = getFbq();\n\n  // Build the fbq() command arguments\n  const command = data.event_name !== 'customEvent' ? 'trackSingle' : 'trackSingleCustom';\n  const eventName = getEventName(\"fb\");\n\n  // Handle consent mode\n  if (data.consentMode) {\n    fbq('consent', data.consentMode);\n  }\n\n  // Handle LDU settings\n  if (data.data_processing_options === 'LDU') {\n    fbq('dataProcessingOptions', ['LDU'], data.data_processing_options_country, data.data_processing_options_state);\n  } else if (data.data_processing_options === 'emptyArray') {\n    fbq('dataProcessingOptions', []);\n  }\n\n  // Handle disablePushState settings\n  if (data.disablePushState) {\n    fbq.disablePushState = true;\n  }\n\n  const initIds = copyFromWindow('_fbq_gtm_ids') || [];\n\n  data.pixels.forEach(pixel => {\n    // Initialize each ID if not done already\n    if (initIds.indexOf(pixel.pixelId) === -1) {\n      // Handle automatic configuration\n      if (data.disableAutomaticConfiguration) {\n        fbq('set', 'autoConfig', false, pixel.pixelId);\n      }\n\n      // Initialize pixel and store in global array\n      fbq('init', pixel.pixelId, getAdvancedMatchingData());\n      initIds.push(pixel.pixelId);\n      setInWindow('_fbq_gtm_ids', initIds, true);\n    }\n\n    // Call the fbq() method with the parameters defined earlier\n    // Add event_id in case it's set up\n    if (data.event_id) {\n      fbq(command, pixel.pixelId, eventName, getPixelEventParameters(\"fb\"), {eventID: data.event_id === 'autogenerate' ? event_id : data.ownEventId});\n    } else {\n      fbq(command, pixel.pixelId, eventName, getPixelEventParameters(\"fb\"));\n    }\n  });\n\n  injectScript('https://connect.facebook.net/en_US/fbevents.js',\n    triggerSuccess,\n    handlePixelUnsuccessfullyFired,\n    'fbPixel');\n\n  function getFbq() {\n    const aliasInWindow = require('aliasInWindow');\n    const createQueue = require('createQueue');\n\n    let fbq = copyFromWindow('fbq');\n\n    if (fbq) return fbq;\n\n    // Initialize the 'fbq' global method to either use fbq.callMethod or fbq.queue\n    setInWindow('fbq', function () {\n      const callMethod = copyFromWindow('fbq.callMethod.apply');\n      if (callMethod) {\n        callInWindow('fbq.callMethod.apply', null, arguments);\n      } else {\n        callInWindow('fbq.queue.push', arguments);\n      }\n    });\n\n    aliasInWindow('_fbq', 'fbq');\n\n    createQueue('fbq.queue');\n\n    return copyFromWindow('fbq');\n  }\n\n  function getAdvancedMatchingData() {\n    let userData = {};\n\n    const fieldsToAdd = ['em', 'ph', 'fn', 'ln', 'db', 'ge', 'ct', 'st', 'zp', 'country', 'external_id'];\n\n    fieldsToAdd.forEach(field => {\n      if (data[field] === undefined) return;\n\n      userData[field] = data[field];\n    });\n\n    return userData;\n  }\n\n  function handlePixelUnsuccessfullyFired() {\n    if (data.fireMethod === 'onlyPixel') {\n      data.gtmOnFailure();\n    }\n  }\n}\n\nfunction useEcommerceDataFor (pixelType) {\n  if (!data.useEcommerceData) {\n    return false;\n  }\n\n  for (const entry of data.useEcommerceData) {\n    if (entry.provider === pixelType || entry.provider === 'all') {\n      return entry.enabled;\n    }\n  }\n\n  return false;\n}\n\nfunction getCustomData (customDataFields, pixelType) {\n  let customData = {};\n\n  if (useEcommerceDataFor(pixelType)) {\n    customData = getEcommerceData();\n  }\n\n  customDataFields.forEach(field => {\n    if (getType(data[field]) === \"undefined\" || getType(data[field]) === 'function') return;\n\n    if (field === 'customProperties') {\n      data[field].forEach(property => {\n        if (property.provider === pixelType || property.provider === 'all') {\n          customData[property.propertyName] = property.propertyValue;\n        }\n      });\n    } else {\n      customData[field] = data[field];\n    }\n  });\n\n  if (data.customProperties) {\n    data.customProperties.forEach(property => {\n      if (customDataFields.indexOf(property.propertyName) !== -1 && (property.provider === pixelType || property.provider === 'all')) {\n        customData[property.propertyName] = property.propertyValue;\n      }\n    });\n  }\n\n  return customData;\n}\n\nfunction getPendingRequests() {\n  const key = \"_ot_pending_requests\";\n  let pendingRequests = localStorage.getItem(key);\n\n  if (!pendingRequests) {\n    return [];\n  }\n  pendingRequests = JSON.parse(pendingRequests);\n  return pendingRequests;\n}\n\nfunction processPendingRequests(pendingRequests) {\n  if (!pendingRequests) {\n    return;\n  }\n\n  const semaphoreKey = \"pending-processing\";\n  if (templateStorage.getItem(semaphoreKey)) {\n    return;\n  }\n  templateStorage.setItem(semaphoreKey, true);\n\n  injectSDK(function() {\n    for(const body of pendingRequests) {\n      callInWindow('adsmuraiSDK.post', data.stApiKey, body, data.stSubdomain ? data.stSubdomain + \"/v1.0/events\" : undefined, function(response) {\n        removeTrackedRequest(body);\n      }, function(response) {\n        removeTrackedRequest(body);\n      });\n    }\n  });\n}\n\nfunction removeTrackedRequest(body) {\n  const key = \"_ot_pending_requests\";\n  let pendingRequests = localStorage.getItem(key);\n  if (!pendingRequests) {\n    return;\n  }\n  pendingRequests = JSON.parse(pendingRequests);\n  const requestKey = JSON.stringify(body);\n  for (let i = 0; i < 9; i++) {\n    if (JSON.stringify(pendingRequests[i]) === requestKey) {\n      pendingRequests.splice(i ,1);\n      localStorage.setItem(key, JSON.stringify(pendingRequests));\n      break;\n    }\n  }\n}\n\nfunction fireCapiEvent() {\n  const sendPixel = require('sendPixel');\n\n  const Math = require('Math');\n\n  if (data.serverSetup === \"ownServer\") {\n    const url = data.serverGtmUrl + '?' + getRequestQueryParametersForOwnServer();\n    sendPixel(url, handleCapiSuccessfullyFired, handleCapiUnsuccessfullyFired);\n  } else {\n    injectSDK(afterInjection);\n  }\n\n  function getOpts() {\n    const hash = data.hashDataOnST;\n    const hashExternalId = data.hashExternalIdOnST;\n\n    if (!hash && !hashExternalId) return undefined;\n\n    let opts = {};\n    if (hash) opts.hash = \"1\";\n    if (hashExternalId) opts.hasheid = \"1\";\n\n    return encodeProperty(opts);\n  }\n\n  let retries = 0;\n\n  function retryCookies () {\n    callInWindow('adsmuraiSDK.setTimeout', () => {\n      if (getCookieValues('_ttp').length === 0 && retries < 20) {\n        retries++;\n        retryCookies();\n      } else {\n        sendPostRequest();\n      }\n    }, 50);\n  }\n\n  function afterInjection () {\n    if (data.tiktok_pixels && getCookieValues('_ttp').length === 0) {\n      function afterTiktokInjection() {\n        // tiktok cookie cant be manually generated, but we can trigger its creation\n        if (getCookieValues('_ttp').length === 0) {\n          let ttq = copyFromWindow('ttq');\n          ttq.enableCookie();\n          retryCookies();\n        } else {\n          sendPostRequest();\n        }\n      }\n\n      injectTiktokSDK(afterTiktokInjection, afterTiktokInjection);\n    } else {\n      sendPostRequest();\n    }\n  }\n\n  function sendPostRequest () {\n    const opts = getOpts();\n    const groupedPixels = getGroupedPixels();\n\n    let body = {\n      pixels: groupedPixels,\n      ignoreGTMMSR: data.ignoreGTMMSR,\n      data: getEventData(groupedPixels),\n      templateVersion: templateVersion.toString(),\n      utms: getStoredUTMs()\n    };\n    if (opts) {\n      body.opts = opts;\n    }\n\n    if (body.data.data[0].event_source_url.indexOf('gtm-msr.appspot.com') !== -1 && data.ignoreGTMMSR) {\n      handleCapiSuccessfullyFired();\n      return;\n    }\n\n    trackRequest(body);\n\n    callInWindow('adsmuraiSDK.post', data.stApiKey, body, data.stSubdomain ? data.stSubdomain + \"/v1.0/events\" : undefined, function(response) {\n      removeTrackedRequest(body);\n    }, function(response) {\n      removeTrackedRequest(body);\n    });\n\n    handleCapiSuccessfullyFired();\n  }\n\n  function trackRequest(body) {\n    const key = \"_ot_pending_requests\";\n    let pendingRequests = localStorage.getItem(key);\n\n    if (pendingRequests) {\n      pendingRequests = JSON.parse(pendingRequests);\n    } else {\n      pendingRequests = [];\n    }\n    for(const entry of pendingRequests) {\n      if (JSON.stringify(entry) === JSON.stringify(body)) {\n        return;\n      }\n    }\n    pendingRequests.push(body);\n    localStorage.setItem(key, JSON.stringify(pendingRequests));\n  }\n\n  function fillUserDataFromFB () {\n    const cookieValues = getCookieValues('_gtmeec', true);\n\n    if (!cookieValues || cookieValues.length === 0) {\n      return;\n    }\n\n    const encodedValue = cookieValues[0];\n\n    if (!encodedValue) {\n      return;\n    }\n\n    const jsonStr = fromBase64(encodedValue);\n    if (!jsonStr) {\n      return;\n    }\n\n    const gtmeecData = JSON.parse(jsonStr);\n\n    // if incoming event has already have the customer information then don't change\n    if (gtmeecData) {\n      if (!data.em && gtmeecData.em) {\n        data.em = gtmeecData.em;\n      }\n\n      if (!data.ph && gtmeecData.ph) {\n        data.ph = gtmeecData.ph;\n      }\n\n      if (!data.ln && gtmeecData.ln) {\n        data.ln = gtmeecData.ln;\n      }\n\n      if (!data.fn && gtmeecData.fn) {\n        data.fn = gtmeecData.fn;\n      }\n\n      if (!data.ct && gtmeecData.ct) {\n        data.ct = gtmeecData.ct;\n      }\n\n      if (!data.st && gtmeecData.st) {\n        data.st = gtmeecData.st;\n      }\n\n      if (!data.zp && gtmeecData.zp) {\n        data.zp = gtmeecData.zp;\n      }\n\n      if (!data.ge && gtmeecData.ge) {\n        data.ge = gtmeecData.ge;\n      }\n\n      if (!data.db && gtmeecData.db) {\n        data.db = gtmeecData.db;\n      }\n\n      if (!data.country && gtmeecData.country) {\n        data.country = gtmeecData.country;\n      }\n\n      if (!data.external_id && gtmeecData.external_id) {\n        data.external_id = gtmeecData.external_id;\n      }\n\n      if (!data.fb_login_id && gtmeecData.fb_login_id) {\n        data.fb_login_id = gtmeecData.fb_login_id;\n      }\n    }\n  }\n\n  function getEventData(pixels) {\n    const platformSpecs = callInWindow('adsmuraiSDK.getPlatformSpecs');\n\n    const customDataPerProvider = {};\n    for (const pixel of pixels) {\n      if (getType(customDataPerProvider[pixel.type]) !== \"undefined\") {\n        continue;\n      }\n      customDataPerProvider[pixel.type] = getCustomData(['value', 'currency', 'content_name', 'content_category', 'content_ids', 'contents',\n        'content_type', 'order_id', 'predicted_ltv', 'num_items', 'search_string', 'status', 'delivery_category', 'customProperties'], pixel.type);\n    }\n    storeAMPIds();\n    fillUserDataFromFB();\n\n    let eventData = [{\n      event_name: data.event_name === 'customEvent' ? data.customEventName : data.event_name,\n      event_time: Math.floor(getTimestampMillis() / 1000),\n      user_data: {\n        em: data.em,\n        ph: data.ph,\n        ge: data.ge,\n        db: data.db,\n        ln: data.ln,\n        fn: data.fn,\n        ct: data.ct,\n        st: data.st,\n        zp: data.zp,\n        country: data.country,\n        external_id: data.external_id,\n        fbc: setOrGetFbcCookie(),\n        fbp: setOrGetFbpCookie(),  // fb tracking cookie\n        ttp: getCookieValues('_ttp').length > 0 ? getCookieValues('_ttp')[0] : null,  // tiktok tracking cookie\n        ggau: getCookieValues('_gcl_au').length > 0 ? getCookieValues('_gcl_au')[0] : null,  // google tracking cookie\n        _ga: getCookieValues('_ga').length > 0 ? getCookieValues('_ga')[0] : null,  // google client id\n        _epik: getCookieValues('_epik').length > 0 ? getCookieValues('_epik')[0] : getQueryParameters(\"_epik\"),  // pinterest click id\n        ttclid: getQueryParameters(\"ttclid\"), // tiktok tracking param\n        gclid: getQueryParameters(\"gclid\"), // google tracking param\n        wbraid: getQueryParameters(\"wbraid\"), // google tracking param\n        gbraid: getQueryParameters(\"gbraid\"), // google tracking param\n        _msclkid: setOrGetMsClickCookie(), // microsoft tracking param\n        _buid: setOrGetMicrosoftCookie('_uetuid', 7776000), // microsoft tracking param\n        _uetsid: setOrGetMicrosoftCookie('_uetsid', 86400), // microsoft tracking param\n        _uetvid: setOrGetMicrosoftCookie('_uetvid', 33696000), // microsoft tracking param\n        _le: getLinkedinEmail(), // fake mail as linkedin enforces having it even for visitors...\n        subscription_id: data.subscription_id,\n        lead_id: data.lead_id,\n        fb_login_id: data.fb_login_id,\n        platform: platformSpecs.platform,\n        screen: platformSpecs.screen,\n        bg: platformSpecs.bg,\n        tz: platformSpecs.tz,\n      },\n      container_ids: platformSpecs.containers,\n      custom_data: customDataPerProvider[pixels[0].type],\n      event_source_url: getUrl(),\n      amp: getAMPIds(),\n      referrer: getReferrerUrl(),\n      opt_out: data.opt_out,\n      event_id: data.ownEventId ? data.ownEventId : event_id,\n      action_source: data.action_source,\n      data_processing_options: getDataProcessingOptions(),\n      data_processing_options_country: data.data_processing_options_country,\n      data_processing_options_state: data.data_processing_options_state\n    }];\n\n    if (pixels.length > 1) {\n      eventData[0].custom_data_per_provider = customDataPerProvider;\n    }\n\n    return {\n      data: eventData,\n      test_event_code: data.test_event_code,\n      tiktok_test_event_code: data.tiktok_test_event_code,\n      pinterest_test: data.pinterest_test,\n    };\n  }\n\n  function getAMPIds () {\n    const ids = callInWindow('adsmuraiSDK.getItem', '_amp_ids');\n    return ids ? JSON.parse(ids) : null;\n  }\n\n  function storeAMPIds () {\n    if (!getQueryParameters(\"amfid\")) {\n      return;\n    }\n    callInWindow('adsmuraiSDK.setItem', '_amp_ids', JSON.stringify({\n      ampid: getQueryParameters(\"ampid\"),\n      amfid: getQueryParameters(\"amfid\"),\n      amcid: getQueryParameters(\"amcid\"),\n    }));\n  }\n\n  function getRequestQueryParametersForOwnServer() {\n    let url = '';\n\n    const manuallyFilledProps = ['event_name', 'em', 'ph', 'ge', 'db', 'ln', 'fn', 'ct', 'st', 'zp',\n      'country', 'external_id', 'subscription_id', 'lead_id', 'fb_login_id', 'value', 'currency', 'content_name',\n      'content_category', 'content_ids', 'contents', 'content_type', 'order_id', 'customProperties', 'num_items',\n      'predicted_ltv', 'search_string', 'status', 'delivery_category', 'opt_out', 'event_id', 'action_source',\n      'data_processing_options', 'data_processing_options_country', 'data_processing_options_state'];\n\n    const automaticallyFilledProps = ['fbp', 'fbc', 'event_source_url', 'event_time'];\n\n    const propsToHash = ['em', 'ph', 'ge', 'db', 'ln', 'fn', 'ct', 'st', 'zp', 'country', 'external_id'];\n\n    manuallyFilledProps.forEach(prop => {\n      if (getType(data[prop]) === \"undefined\" || getType(data[prop]) === 'function') return;\n\n      let value;\n\n      switch (prop) {\n        case 'event_name':\n          value = data.event_name === 'customEvent' ? data.customEventName : data.event_name;\n          break;\n        case 'data_processing_options':\n          value = data[prop] === 'emptyArray' ? [] : ['LDU'];\n          break;\n        case 'event_id':\n          value = data.event_id === 'autogenerate' ? event_id : data.ownEventId;\n          break;\n        default:\n          value = data[prop];\n      }\n\n      if (data.hashData && propsToHash.some(propToHash => prop === propToHash)) {\n        // Avoid hashing external_id if user didn't ask to\n        if (prop !== 'external_id' || data.hashExternalId) {\n          value = hash(data[prop]);\n        }\n      }\n\n      url += prop + '=' + encodeProperty(value) + '&';\n    });\n\n    automaticallyFilledProps.forEach(prop => {\n\n      let value;\n\n      switch (prop) {\n        case 'fbc':\n          value = setOrGetFbcCookie();\n          break;\n        case 'fbp':\n            value = setOrGetFbpCookie();\n          break;\n        case 'event_source_url':\n          value = getUrl();\n          break;\n        case 'event_time':\n          value = Math.floor(getTimestampMillis() / 1000);\n      }\n\n      url += prop + '=' + encodeProperty(value) + '&';\n    });\n\n    return url.slice(0, -1); // slice() removes the last &\n  }\n\n  function getGroupedPixels () {\n    let pixels = [];\n\n    if (data.pixels) {\n      data.pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"fb\"\n        });\n      });\n    }\n\n    if (data.tiktok_pixels) {\n      data.tiktok_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"tiktok\"\n        });\n      });\n    }\n\n    if (data.pinterest_pixels) {\n      data.pinterest_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"pinterest\"\n        });\n      });\n    }\n\n    if (data.linkedin_pixels) {\n      data.linkedin_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"linkedin\"\n        });\n      });\n    }\n\n    if (data.snapchat_pixels) {\n      data.snapchat_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"snapchat\"\n        });\n      });\n    }\n\n    if (data.google_pixels) {\n      data.google_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"google\"\n        });\n      });\n    }\n\n    if (data.ga4_pixels) {\n      data.ga4_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"ga4\"\n        });\n      });\n    }\n\n    if (data.postback_pixels) {\n      data.postback_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"postback\"\n        });\n      });\n    }\n\n    if (data.quora_pixels) {\n      data.quora_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"quora\"\n        });\n      });\n    }\n\n    if (data.microsoft_pixels) {\n      data.microsoft_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"microsoftads\"\n        });\n      });\n    }\n\n    if (data.spotify_pixels) {\n      data.spotify_pixels.forEach(pixel => {\n        pixels.push({\n          id: pixel.pixelId,\n          type: \"spotify\"\n        });\n      });\n    }\n\n    return pixels;\n  }\n\n  function getDataProcessingOptions() {\n    if (!data.data_processing_options) return undefined;\n    if (data.data_processing_options === 'emptyArray') return [];\n    return ['LDU'];\n  }\n\n  function encodeProperty(prop) {\n    const encodeUriComponent = require('encodeUriComponent');\n\n    switch (getType(prop)) {\n      case 'function':\n      case 'undefined':\n      case 'null':\n        return null;\n      default:\n        return encodeUriComponent(JSON.stringify(prop));\n    }\n  }\n\n  function setOrGetFbcCookie() {\n    // See https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc/#fbc\n    const getQueryParameters = require('getQueryParameters');\n\n    let value = undefined;\n\n    if (getQueryParameters('fbclid', false)) {\n      value = 'fb.1.' + getTimestampMillis() + '.' + getQueryParameters('fbclid');\n      // If there's no Facebook pixel on the page that will\n      // create or update the _fbc cookie automatically, do it manually\n      let fbq = copyFromWindow('fbq');\n      if (!fbq) setCookie('_fbc', value, { 'domain': 'auto', 'max-age': 7776000, 'path': '/' });\n    } else {\n      let fbcCookieValues = getCookieValues('_fbc');\n      // expected format is like fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890\n      if (fbcCookieValues.length > 0 && fbcCookieValues[0] !== '' && fbcCookieValues[0].split('.').length === 4) {\n        value = fbcCookieValues[0];\n      }\n    }\n\n    return value;\n  }\n\n  function resetCookiesExpiration() {\n    // Facebook pixel's code resets expiration date of _fbc and _fbp cookies to 90 days on every event\n    // If user is sending only through CAPI, thus not sending event through pixel,\n    // we update the expiration date manually here\n    if (getCookieValues('_fbc').length > 0 && getCookieValues('_fbc')[0] !== '') {\n      const fbcValue = getCookieValues('_fbc')[0];\n      setCookie('_fbc', fbcValue, {'domain': 'auto', 'max-age': 7776000, 'path': '/'});\n    }\n\n    if (getCookieValues('_fbp').length > 0 && getCookieValues('_fbp')[0] !== '') {\n      const fbpValue = getCookieValues('_fbp')[0];\n      setCookie('_fbp', fbpValue, {'domain': 'auto', 'max-age': 7776000, 'path': '/'});\n    }\n\n    // tiktok leaves them for 13 months\n    // https://ads.tiktok.com/help/article/using-cookies-with-tiktok-pixel?redirected=2\n  }\n\n  function handleCapiSuccessfullyFired() {\n    if (data.fireMethod === 'onlyCapi') resetCookiesExpiration();\n    triggerSuccess();\n  }\n\n  function handleCapiUnsuccessfullyFired() {\n    if (data.fireMethod === 'onlyCapi') resetCookiesExpiration();\n    data.gtmOnFailure();\n  }\n}\n\nfunction setOrGetMsClickCookie() {\n  if (!data.microsoft_pixels) { // dont create the cookie if client isnt using microsoft\n    return undefined;\n  }\n\n  const getQueryParameters = require('getQueryParameters');\n\n  let value = undefined;\n\n  if (getQueryParameters('msclkid', false)) {\n    value = getQueryParameters('msclkid');\n\n    if (getCookieValues('_uetmsclkid').length === 0) {\n      setCookie('_uetmsclkid', value, { 'domain': 'auto', 'max-age': 7776000, 'path': '/' });\n    }\n  } else {\n    let values = getCookieValues('_uetmsclkid');\n    if (values.length > 0 && values[0] !== '') {\n      value = values[0];\n    }\n  }\n\n  return value;\n}\n\nfunction getLinkedinEmail() {\n  if (!data.linkedin_pixels || data.em) { // dont create the cookie if client isnt using linkedin\n    return undefined;\n  }\n  const cookieName = \"_le\";\n  let value = undefined;\n\n  if (getCookieValues(cookieName).length === 0) {\n    value = hash(getTimestampMillis() + \"@linkedin.com\");\n    setCookie(cookieName, value, { 'domain': 'auto', 'max-age': 33696000, 'path': '/' });\n  } else {\n    let values = getCookieValues(cookieName);\n    if (values.length > 0 && values[0] !== '') {\n      value = values[0];\n    }\n  }\n\n  return value;\n}\n\nfunction setOrGetMicrosoftCookie(cookieName, duration) {\n  if (!data.microsoft_pixels) { // dont create the cookie if client isnt using microsoft\n    return undefined;\n  }\n  let value = undefined;\n\n  if (getCookieValues(cookieName).length === 0) {\n    value = generateUUID();\n    setCookie(cookieName, value, { 'domain': 'auto', 'max-age': duration, 'path': '/' });\n  } else {\n    let values = getCookieValues(cookieName);\n    if (values.length > 0 && values[0] !== '') {\n      value = values[0];\n    }\n  }\n\n  return value;\n}\n\nfunction phoneToE164 (phone) {\n  if (phone.length < 64) { // detect if its hashed\n    return \"+\" + phone;\n  }\n  return phone;\n}\n\nfunction generateUUID() {\n  const Math = require('Math');\n  function cryptoRandom() {\n    return Math.floor(generateRandom(1000000000, 9999999999) * 16);\n  }\n\n  var uuid = '',\n    i,\n    c;\n\n  for (i = 0; i < 36; i++) {\n    if (i === 8 || i === 13 || i === 18 || i === 23) {\n      uuid += '-';\n    } else if (i === 14) {\n      uuid += '4';\n    } else {\n      c = cryptoRandom();\n      if (i === 19) {\n        c = (c & 3) | 8; // Set bits according to UUID v4 standard\n      }\n      uuid += c.toString(16);\n    }\n  }\n  return uuid;\n}\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_ttq_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"spdt\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"ttq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"pintrk\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"lintrk\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"pintrk.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"qp\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"qp.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"qp.qp\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"qp.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"qp.qp.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"snaptr\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"snaptr.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.post\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.pushEvent\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_linkedin_data_partner_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_spdt_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.callMethod.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataLayer\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"sha256\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.fetch\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.setTimeout\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.log\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.logs\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.getPlatformSpecs\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.getFromWindow\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.setItem\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"adsmuraiSDK.getItem\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://connect.facebook.net/en_US/fbevents.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://s.pinimg.com/ct/core.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://analytics.tiktok.com/\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://sc-static.net/scevent.min.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://snap.licdn.com/li.lms-analytics/insight.min.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://a.quora.com/qevents.js\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://cdn-st.adsmurai.com/\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"https://pixel.byspotify.com/ping.min.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"_fbc\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_fbp\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_ttp\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_epik\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_le\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_gcl_au\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_ga\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_gtmeec\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetuid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetmsclkid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetsid\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_uetvid\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_pixel\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbp\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbc\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_uetuid\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_uetmsclkid\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_uetsid\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_uetvid\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_le\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_referrer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_template_storage\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_local_storage\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_ot_pending_requests\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_title\",\n        \"versionId\": \"1\"\n      },\n      \"param\": []\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Facebook Pixel\n  code: \"const mockData = {\\n  event_name: \\\"PageView\\\",\\n  fireMethod: \\\"onlyPixel\\\"\\\n    ,\\n  event_id: 1135,\\n  ownEventId: 1135,\\n  pixels: [{\\n    pixelId: \\\"11111\\\"\\\n    \\n  }]\\n  \\n};\\n\\nrunCode(mockData);\\n\\nassertApi('setInWindow').wasCalledWith('_fbq_gtm_ids',\\\n    \\ [\\\"11111\\\"], true);\\nassertApi('createQueue').wasCalledWith('fbq.queue');\\n\\\n    assertApi('aliasInWindow').wasCalledWith('_fbq', 'fbq');\\nassertApi('copyFromWindow').wasCalledWith('fbq');\\n\\\n    assertApi('callInWindow').wasCalledWith('fbq.queue.push', [\\\"trackSingle\\\", \\\"\\\n    11111\\\", \\\"PageView\\\", {},{\\\"eventID\\\":1135}]);\\n\"\n- name: Tiktok Pixel\n  code: \"const mockData = {\\n  event_name: \\\"PageView\\\",\\n  fireMethod: \\\"onlyPixel\\\"\\\n    ,\\n  event_id: 1135,\\n  ownEventId: 1135,\\n  tiktok_pixels: [{\\n    pixelId: \\\"\\\n    11111\\\"\\n  }]\\n  \\n};\\n\\nrunCode(mockData);\\n\\nassertApi('copyFromWindow').wasCalledWith('ttq');\\n\\\n    \\n\"\n- name: Pinterest Pixel\n  code: \"const mockData = {\\n  event_name: \\\"pagevisit\\\",\\n  fireMethod: \\\"onlyPixel\\\"\\\n    ,\\n  event_id: 1135,\\n  ownEventId: 1135,\\n  pinterest_pixels: [{\\n    pixelId:\\\n    \\ \\\"11111\\\"\\n  }]\\n  \\n};\\n\\nrunCode(mockData);\\n\\nassertApi('copyFromWindow').wasCalledWith('pintrk');\\n\\\n    assertApi('createArgumentsQueue').wasCalledWith('pintrk', 'pintrk.queue');\\n\\n\"\n- name: Linkedin Pixel\n  code: \"const mockData = {\\n  event_name: \\\"Purchase\\\",\\n  fireMethod: \\\"onlyPixel\\\"\\\n    ,\\n  event_id: 1135,\\n  ownEventId: 1135,\\n  linkedin_pixels: [{\\n    pixelId:\\\n    \\ \\\"11111\\\"\\n  }]\\n  \\n};\\n\\nrunCode(mockData);\\n\\nassertApi('copyFromWindow').wasCalledWith('lintrk');\\n\\\n    \\n\"\n- name: Snapchat Pixel\n  code: \"const mockData = {\\n  event_name: \\\"Purchase\\\",\\n  fireMethod: \\\"onlyPixel\\\"\\\n    ,\\n  event_id: 1135,\\n  ownEventId: 1135,\\n  snapchat_pixels: [{\\n    pixelId:\\\n    \\ \\\"11111\\\"\\n  }]\\n  \\n};\\n\\nrunCode(mockData);\\n\\nassertApi('copyFromWindow').wasCalledWith('snaptr');\\n\\\n    assertApi('createArgumentsQueue').wasCalledWith('snaptr', 'snaptr.queue');\\n\\n\"\n\n\n___NOTES___\n\nVersion 7.7\n\n\n",
        "galleryReference": {
          "host": "github.com",
          "owner": "Adsmurai-Google-Tag-Manager-Templates",
          "repository": "adsmurai-facebook-pixel-and-conversions-api",
          "version": "759bee4766cf231e435f21cc41d7d25919f2d883",
          "signature": "8a5808171225e904e15dbd3e4b26101bb40554f29a73194f1637f55b774030c9",
          "galleryTemplateId": "NN64H"
        }
      },
      {
        "accountId": "4701878300",
        "containerId": "11816202",
        "templateId": "468",
        "name": "Facebook CAPI Tag",
        "fingerprint": "1771449447581",
        "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_TX5GZ\",\n  \"version\": 1,\n  \"displayName\": \"Facebook CAPI Tag\",\n  \"brand\": {\n    \"id\": \"github.com_peaksandpies\",\n    \"displayName\": \"peaksandpies\",\n    \"thumbnail\": \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAACXBIWXMAABcRAAAXEQHKJvM/AAAJU0lEQVR4nO2dXWhcRRTHZ3eTtNt0u0lbWm+xdCs+qC0kBYsoxWzBl4LiFt/8wBREH/zaKsKCQlNF2BchBfvmR/Kg+FJIFPRJTV76UoUEKpUKbdZa15akzWap2+ZjV2Z7FreZO3fvx9y5M/eeHywbdnaTmzv/PXPmzMw5sUajQRAkHvk7gDRBISBNUAhIExQC0qQrrLfBKFSzhJAMPAYJIX3w8x7mzXymoWWGELJICJkihMyVi6k57ic0JRSzBqNQpZ2cbXsMMG8SSwVE0XyUi6kZ2f+zaLQVglGo0m/5MJHT8Z1oCWOCPsrF1GKH9yuHVkIwClVq2vOEkJxDEy+bSRDEmMLXeA9aCMEoVIfh2z/ENKoNtRRUDKOq+xXKCgHG/WGwACp/++0yTkVRLqamVLw45YQAAsjDI828QX/oTGRENUEoJQQYAkZCYgE6MQ6CUGLIUEIIMAMY1dAH8EoF/IeRoC8kUCHAMEBvwttMY7QoUX8oyOEiMCFA5G8sIsOAXU7BcCE9DhHIWoNRqFIr8DOKgIFaxikYKqUi1SLAUDARQV/AKdR3yMsMSEkTAqh8KqRTQr8YLxdTwzL+kBQhwLRwFEXgChp3yPntN/guBBDBl0wD4oRZurjmpxh8dRbBKUQReGfAbyfSN4tgFKrU0XmZaUC8UAHLIHz/gy8WASwBikA8abAMGdG/WbhFQJ9ACsJ9BqEWAUUgjZbP0CfqDwoTAjgyKAJ5DECIXghChgZQ5lwU4gT7dsVJemOMef18uU6WaoGs25wUsXopSggzCmwgFcqWZIw8s7+r9tjexI1H9yRW926L214XWVkjtb8W69fpz5fm6/G5hXr9Qrm+4/JCPXnlZoNcuVlnPuORo+ViasLLr/AsBKNQHQ3TMvILB7trrxzqWXpoZ3wn0yiAz88ulz749o7oxTY6rRz0ssnF0wEXWEoOhQjeP7Kh8tqhnp7uBEkS0nzoRBr8hazba3btLLatJGrNEw8kyO8nNlfeGOpJgwh0ZQjiN3KFEIZFpE+e2zh/5tVNJJ2MhcXJPeE22ORqaIAhQdvIIXUEf3xr0437++PbmUb9cTVEuLUI2pzgWU+bCLYyjeFgCAJ7jnAsBBiHtN1iFnIRtBh1GnV0JIS2wydaQn2CCIiAgO/mqJ+cWgRtTx/R2cHzB7vD6BPwyDuxCraFoLM1oH7BFy8lK0xDuHFkFZxYBG2twZvZnkqIpohOsG0VbAlBd2tAI4ZMQzSwbRXsWoScrtaALhxpHjH0iq2ppF0hBH5I0y3vPLXhlp5XLow9duIKHYUAUUQt4wa7++NkVzoWpZkCj45CsBNilnLSxg+efDBRk7WSuHS7cXPhVmOJaVjHxWv1zcyL/kOjjRmrZWo7Qsgxr2jCkf1d89Qw+HW1lVqj8tH3d3q+O7+aXKo1+gkh/cyb1CEHC4WmWArBKFS1dRIp+4yEb7OFT6eXKx//cEenezNsJYROPoK21oBy35aYL7uMvj63Mq+ZCCgDVkvUoRUCjR/4AR0O3j1zW1cHlNufXCHA9nRth4X9Bvdf88Tp6WXhO08lwt2nYHW3uB+KMj9dXFXZIewEt09RCA757W+dDQJJ805UoxAc8M9S45o2F8vHtF9NhQDeJWY3WUdtpXGbeVE/HFkE0zcjocC0b1EI0cP0aCIKIYKYOYw8IQg7d48oCdO/PCEwikFCBdO/PCHgjCHcdLYIItOxIMrC9DEjBDOzgYQOpo/NhIBEEBQC0gSFgDSx3KqmAp+9mLzwiBHf5PRSkt2xjYQQoTuUdvfHt599r7fENDjg9NTyjq/OrSh3zkJ5ITy+N7G8tTf2MNMQAF1x0rt3W7zXy1++vKDmMjYODZKh6fVUBIUgEZp/0Ycci0JAIUiklYRTRRghqFq7OAz8UlpTxSdj+pgRAuIff1yvO579yIInhKhlF5HCr3+uqbIDmqnzwBOC8FIxyN0M7orA9C9PCNxTs4g76GnpgNL4m8H0LwpBEterjX9VuRaz4/E8ITBeJeKN6T9WVxW5hdPMKxZCYBSDeIMW7lDkFpr2rakQwHR4WlxB7mXm6poqC02m1t5UCADjWSLuUejMpGm/WgnBVDmIcxQ6M1nhVZFFIUjg6mJ9WZFL4fapZXEvo1CdCzq1Hq+8XufPJciHT29gXvcC/Wa//k3N8WYXnyq7ueFYuZgyrbXRaRFkIujiXSrlI6Cnoc9eWmNe1whuDS6roYFYmRJEO2ataklbCgGKSuI0MhxwU+sRm8vQXHOCaIVlP9oRgqlzgWjFpNWwYEsIMO80jU8j2mA5LNgSAoBWQV9KdrYf2hICzD3RadQTW7U2nOxZ7GheEOWo8AJIXoQwhnsZtcP2l9e2EMDrRKugDxVfhEDuimEEfQVtyHeaMrbj5lyDtoW+IkTJrm/QwrEQ4A9gXEFt/K8WD2hbKDwCTLo5tuhKCBBtPMk0IEFTcVuVz/XZR3AcZ5kGJEiGnTiIQoQAaFsTMoRMwrYBV3gSAgwRx5kGRDYlr19Kz8fiy8UUDVqMMw2ILKhfkHM7JLQQlR8hj/5CYOR5W9SdIEQIoMYcrkVI55TTwBEPYRlT4JhcFsUgjfFyMSUsniM0dQ6YKJxJ+A/dkSz0PgvPoQRTmGNMAyKKWV7JPi/4kkwLxi0Ug3iaIvA6QzDDt6xqKAbh+CYC4nd6PRDDYXQgPTPupwiIjDyLsBKGswn30NmB6zUEu0hJuAmziQwGnRxzTPTsgIe0zKtU0eViitYSOsU0IuuhawcHRAWL7CA9BS8EQY7iUMFlkhbfEhE2dkIguZgh1jCIW97ugX4xjpeLKc8LSG4ILCk3DUmXi6ksTDGjbh1aViCw4wKBZ2eHcTAT0aVs6gscBStgmv9QFkqk6QdHknrHByIyXFALeLJcTGW87CoSiVL1GqiDBMPF4ZAKogKbfjOw51MZlKzy1gpCGYVqFg7UDDFv0ovW8bPRIBxBOyhd7q9NEBnYBTWsWSV7atXGZMYD3KJ83Ufy/6YXKoS8UajmQBDPMm9UgxKcHB8L2gF0ghZCaAecqwmjUO2DNYwcPAeZGHQaklVNyQ4EiUI7IbSAsXailS3MKFQHIUiVhecB5kNiqEBi6yl4zKg67jvBMgVvCBiEGAV97oPnFjwHtNRW02AROr31PGNWGCsMhF0IiE2w7iPSBIWANEEhIIQQQv4D8wEO4mJgh1EAAAAASUVORK5CYII\\u003d\"\n  },\n  \"description\": \"An unofficial template for Facebook CAPI tracking. It is intended to be used with the Server-side Google Tag Manager and the Facebook CAPI Client.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ],\n  \"categories\": [\n    \"ADVERTISING\",\n    \"CONVERSIONS\",\n    \"MARKETING\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"url\",\n    \"displayName\": \"URL\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"type\": \"REGEX\",\n        \"args\": [\n          \"^https:\\\\/\\\\/.+\"\n        ],\n        \"errorMessage\": \"The value must be a valid URL.\"\n      }\n    ],\n    \"valueHint\": \"https://www.server.com/track\",\n    \"help\": \"The URL of your server-side GTM (or similar solution), which accepts the data and sends it to Facebook.\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"id\",\n    \"displayName\": \"Pixel ID\",\n    \"simpleValueType\": true,\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      }\n    ]\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"radioButton\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"standardEvent\",\n            \"displayName\": \"Event\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"value\": \"AddPaymentInfo\",\n                \"displayValue\": \"AddPaymentInfo\"\n              },\n              {\n                \"value\": \"AddToCart\",\n                \"displayValue\": \"AddToCart\"\n              },\n              {\n                \"value\": \"AddToWishlist\",\n                \"displayValue\": \"AddToWishlist\"\n              },\n              {\n                \"value\": \"CompleteRegistration\",\n                \"displayValue\": \"CompleteRegistration\"\n              },\n              {\n                \"value\": \"Contact\",\n                \"displayValue\": \"Contact\"\n              },\n              {\n                \"value\": \"CustomizeProduct\",\n                \"displayValue\": \"CustomizeProduct\"\n              },\n              {\n                \"value\": \"Donate\",\n                \"displayValue\": \"Donate\"\n              },\n              {\n                \"value\": \"FindLocation\",\n                \"displayValue\": \"FindLocation\"\n              },\n              {\n                \"value\": \"InitiateCheckout\",\n                \"displayValue\": \"InitiateCheckout\"\n              },\n              {\n                \"value\": \"Lead\",\n                \"displayValue\": \"Lead\"\n              },\n              {\n                \"value\": \"PageView\",\n                \"displayValue\": \"PageView\"\n              },\n              {\n                \"value\": \"Purchase\",\n                \"displayValue\": \"Purchase\"\n              },\n              {\n                \"value\": \"Schedule\",\n                \"displayValue\": \"Schedule\"\n              },\n              {\n                \"value\": \"Search\",\n                \"displayValue\": \"Search\"\n              },\n              {\n                \"value\": \"StartTrial\",\n                \"displayValue\": \"StartTrial\"\n              },\n              {\n                \"value\": \"SubmitApplication\",\n                \"displayValue\": \"SubmitApplication\"\n              },\n              {\n                \"value\": \"Subscribe\",\n                \"displayValue\": \"Subscribe\"\n              },\n              {\n                \"value\": \"ViewContent\",\n                \"displayValue\": \"ViewContent\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"customEvent\",\n            \"displayName\": \"\",\n            \"simpleValueType\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"privacyGroup\",\n    \"displayName\": \"Privacy\",\n    \"groupStyle\": \"NO_ZIPPY\",\n    \"subParams\": [\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"anonymiseIP\",\n        \"checkboxText\": \"Anonymise IP address\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"anonymiseUserAgent\",\n        \"checkboxText\": \"Anonymise user agent\",\n        \"simpleValueType\": true\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"objectPropertiesGroup\",\n    \"displayName\": \"Object Properties\",\n    \"groupStyle\": \"ZIPPY_OPEN_ON_PARAM\",\n    \"subParams\": [\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"objectProperties\",\n        \"displayName\": \"Object Properties Variable\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [],\n        \"simpleValueType\": true,\n        \"notSetText\": \"Undefined\"\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"objectPropertiesTable\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"type\": \"TEXT\",\n            \"isUnique\": true,\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\",\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ],\n        \"newRowButtonText\": \"Add Property\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"optionalGroup\",\n    \"displayName\": \"Optional\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventId\",\n        \"displayName\": \"Event ID\",\n        \"simpleValueType\": true,\n        \"help\": \"The event_id parameter is an identifier that can uniquely distinguish between similar events. Read more about the \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/server-event#event-id\\\"\\u003eevent_id parameter\\u003c/a\\u003e.\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst encodeUriComponent = require('encodeUriComponent');\nconst getCookieValues = require('getCookieValues');\nconst getReferrerUrl = require('getReferrerUrl');\nconst getType = require('getType');\nconst getUrl = require('getUrl');\nconst JSON = require('JSON');\nconst makeTableMap = require('makeTableMap');\nconst parseUrl = require('parseUrl');\nconst sendPixel = require('sendPixel');\n\nconst mergeObjects = (a, b) => {\n  for(let key in b) {\n    if(b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n  \n  return a;\n};\n\nconst event = data.standardEvent || data.customEvent;\nconst eventId = data.eventId;\nconst id = data.id;\nconst properties = getType(data.objectProperties) === 'object' ? data.objectProperties : {};\nconst propertiesTable = data.objectPropertiesTable && data.objectPropertiesTable.length ? makeTableMap(data.objectPropertiesTable, 'name', 'value') : {};\nconst mergedProperties = mergeObjects(properties, propertiesTable);\n\nconst transformData = () => {\n  let transformedUrl = data.url + '?v=1&t=pp_capi';\n  const parsedUrl = parseUrl(getUrl());\n  \n  const parameters = [\n    {key: 'dl', value: parsedUrl.href},\n    {key: 'dr', value: getReferrerUrl()},\n    {key: 'en', value: event},\n    {key: 'eid', value: eventId},\n    {key: 'fbc', value: getCookieValues('_fbc')},\n    {key: 'fbp', value: getCookieValues('_fbp')},\n    {key: 'pid', value: id},\n    {key: 'aip', value: data.anonymiseIP},\n    {key: 'aua', value: data.anonymiseUserAgent}\n  ];\n  \n  for(let parameter of parameters) {\n    if(parameter.value == undefined || parameter.value == '') {\n      continue;\n    }\n    \n    transformedUrl += '&' + parameter.key + '=' + encodeUriComponent(parameter.value);\n  }\n  \n  for(let property in mergedProperties) {\n    let value = mergedProperties[property];\n    \n    if(['array', 'object'].indexOf(getType(value)) > -1) {\n      value = JSON.stringify(value);\n    }\n    \n    transformedUrl += '&cd[' + property + ']=' + encodeUriComponent(value);\n  }\n  \n  return transformedUrl;\n};\n\nconst url = transformData();\n\nsendPixel(url, data.gtmOnSuccess, data.gtmOnFailure);\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"send_pixel\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedUrls\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_referrer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"cookieAccess\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"specific\"\n          }\n        },\n        {\n          \"key\": \"cookieNames\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"_fbc\"\n              },\n              {\n                \"type\": 1,\n                \"string\": \"_fbp\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Standard Event\n  code: |-\n    const mockData = {\n      id: '123',\n      endpoint: 'www.test.com/collect',\n      standardEvent: 'PageView'\n    };\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n\n\n___NOTES___\n\nCreated on 27/01/2022, 09:43:27\n\n\n",
        "galleryReference": {
          "host": "github.com",
          "owner": "peaksandpies",
          "repository": "gtm-facebook-capi-tag",
          "version": "9424eeafe7280c210ce758d5d98ece65989928bb",
          "signature": "d505a886afd1c98150ab5d15321d1f38110eae2c68b65dd134a660cb80225fd7",
          "galleryTemplateId": "TX5GZ"
        }
      }
    ]
  }
}